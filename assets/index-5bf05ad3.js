(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function O0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wf={exports:{}},$o={},Cf={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),L0=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),z0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),H0=Symbol.for("react.suspense"),$0=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),ud=Symbol.iterator;function G0(t){return t===null||typeof t!="object"?null:(t=ud&&t[ud]||t["@@iterator"],typeof t=="function"?t:null)}var xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sf=Object.assign,Ef={};function Wr(t,e,n){this.props=t,this.context=e,this.refs=Ef,this.updater=n||xf}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nf(){}Nf.prototype=Wr.prototype;function wu(t,e,n){this.props=t,this.context=e,this.refs=Ef,this.updater=n||xf}var Cu=wu.prototype=new Nf;Cu.constructor=wu;Sf(Cu,Wr.prototype);Cu.isPureReactComponent=!0;var cd=Array.isArray,kf=Object.prototype.hasOwnProperty,xu={current:null},If={key:!0,ref:!0,__self:!0,__source:!0};function Tf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)kf.call(e,r)&&!If.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ts,type:t,key:s,ref:o,props:i,_owner:xu.current}}function Q0(t,e){return{$$typeof:ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Su(t){return typeof t=="object"&&t!==null&&t.$$typeof===ts}function K0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dd=/\/+/g;function xl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K0(""+t.key):e.toString(36)}function Ws(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ts:case L0:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xl(o,0):r,cd(i)?(n="",t!=null&&(n=t.replace(dd,"$&/")+"/"),Ws(i,e,n,"",function(u){return u})):i!=null&&(Su(i)&&(i=Q0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cd(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+xl(s,l);o+=Ws(s,e,n,a,i)}else if(a=G0(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+xl(s,l++),o+=Ws(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xs(t,e,n){if(t==null)return t;var r=[],i=0;return Ws(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Y0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},Hs={transition:null},q0={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:xu};Q.Children={map:xs,forEach:function(t,e,n){xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!Su(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Wr;Q.Fragment=F0;Q.Profiler=j0;Q.PureComponent=wu;Q.StrictMode=z0;Q.Suspense=H0;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q0;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)kf.call(e,a)&&!If.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ts,type:t.type,key:i,ref:s,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:B0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U0,_context:t},t.Consumer=t};Q.createElement=Tf;Q.createFactory=function(t){var e=Tf.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:W0,render:t}};Q.isValidElement=Su;Q.lazy=function(t){return{$$typeof:V0,_payload:{_status:-1,_result:t},_init:Y0}};Q.memo=function(t,e){return{$$typeof:$0,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Hs.transition;Hs.transition={};try{t()}finally{Hs.transition=e}};Q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Q.useCallback=function(t,e){return Be.current.useCallback(t,e)};Q.useContext=function(t){return Be.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};Q.useEffect=function(t,e){return Be.current.useEffect(t,e)};Q.useId=function(){return Be.current.useId()};Q.useImperativeHandle=function(t,e,n){return Be.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return Be.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return Be.current.useReducer(t,e,n)};Q.useRef=function(t){return Be.current.useRef(t)};Q.useState=function(t){return Be.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return Be.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return Be.current.useTransition()};Q.version="18.2.0";Cf.exports=Q;var L=Cf.exports;const X0=O0(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=L,Z0=Symbol.for("react.element"),ey=Symbol.for("react.fragment"),ty=Object.prototype.hasOwnProperty,ny=J0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ry={key:!0,ref:!0,__self:!0,__source:!0};function Rf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ty.call(e,r)&&!ry.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Z0,type:t,key:s,ref:o,props:i,_owner:ny.current}}$o.Fragment=ey;$o.jsx=Rf;$o.jsxs=Rf;wf.exports=$o;var Eu=wf.exports;const Ss=Eu.Fragment,p=Eu.jsx,_=Eu.jsxs;var oa={},Pf={exports:{}},it={},Df={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,j){var U=T.length;T.push(j);e:for(;0<U;){var ne=U-1>>>1,X=T[ne];if(0<i(X,j))T[ne]=j,T[U]=X,U=ne;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var j=T[0],U=T.pop();if(U!==j){T[0]=U;e:for(var ne=0,X=T.length,Dt=X>>>1;ne<Dt;){var mt=2*(ne+1)-1,ir=T[mt],Bt=mt+1,Wt=T[Bt];if(0>i(ir,U))Bt<X&&0>i(Wt,ir)?(T[ne]=Wt,T[Bt]=U,ne=Bt):(T[ne]=ir,T[mt]=U,ne=mt);else if(Bt<X&&0>i(Wt,U))T[ne]=Wt,T[Bt]=U,ne=Bt;else break e}}return j}function i(T,j){var U=T.sortIndex-j.sortIndex;return U!==0?U:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,d=null,c=3,y=!1,v=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=T)r(u),j.sortIndex=j.expirationTime,e(a,j);else break;j=n(u)}}function C(T){if(x=!1,m(T),!v)if(n(a)!==null)v=!0,lt(k);else{var j=n(u);j!==null&&Pt(C,j.startTime-T)}}function k(T,j){v=!1,x&&(x=!1,g(D),D=-1),y=!0;var U=c;try{for(m(j),d=n(a);d!==null&&(!(d.expirationTime>j)||T&&!He());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,c=d.priorityLevel;var X=ne(d.expirationTime<=j);j=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(a)&&r(a),m(j)}else r(a);d=n(a)}if(d!==null)var Dt=!0;else{var mt=n(u);mt!==null&&Pt(C,mt.startTime-j),Dt=!1}return Dt}finally{d=null,c=U,y=!1}}var A=!1,P=null,D=-1,ue=5,H=-1;function He(){return!(t.unstable_now()-H<ue)}function bn(){if(P!==null){var T=t.unstable_now();H=T;var j=!0;try{j=P(!0,T)}finally{j?pt():(A=!1,P=null)}}else A=!1}var pt;if(typeof f=="function")pt=function(){f(bn)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Ut=Z.port2;Z.port1.onmessage=bn,pt=function(){Ut.postMessage(null)}}else pt=function(){O(bn,0)};function lt(T){P=T,A||(A=!0,pt())}function Pt(T,j){D=O(function(){T(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,lt(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(c){case 1:case 2:case 3:var j=3;break;default:j=c}var U=c;c=j;try{return T()}finally{c=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=c;c=T;try{return j()}finally{c=U}},t.unstable_scheduleCallback=function(T,j,U){var ne=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,T={id:h++,callback:j,priorityLevel:T,startTime:U,expirationTime:X,sortIndex:-1},U>ne?(T.sortIndex=U,e(u,T),n(a)===null&&T===n(u)&&(x?(g(D),D=-1):x=!0,Pt(C,U-ne))):(T.sortIndex=X,e(a,T),v||y||(v=!0,lt(k))),T},t.unstable_shouldYield=He,t.unstable_wrapCallback=function(T){var j=c;return function(){var U=c;c=j;try{return T.apply(this,arguments)}finally{c=U}}}})(bf);Df.exports=bf;var iy=Df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=L,rt=iy;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,Ti={};function tr(t,e){Dr(t,e),Dr(t+"Capture",e)}function Dr(t,e){for(Ti[t]=e,t=0;t<e.length;t++)Mf.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=Object.prototype.hasOwnProperty,sy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hd={},fd={};function oy(t){return la.call(fd,t)?!0:la.call(hd,t)?!1:sy.test(t)?fd[t]=!0:(hd[t]=!0,!1)}function ly(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ay(t,e,n,r){if(e===null||typeof e>"u"||ly(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nu=/[\-:]([a-z])/g;function ku(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nu,ku);Ae[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nu,ku);Ae[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nu,ku);Ae[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,n,r){var i=Ae.hasOwnProperty(e)?Ae[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ay(e,n,i,r)&&(n=null),r||i===null?oy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rn=Af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),Tu=Symbol.for("react.strict_mode"),aa=Symbol.for("react.profiler"),Of=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),Ru=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),ca=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Ff=Symbol.for("react.offscreen"),pd=Symbol.iterator;function Xr(t){return t===null||typeof t!="object"?null:(t=pd&&t[pd]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Sl;function ui(t){if(Sl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sl=e&&e[1]||""}return`
`+Sl+t}var El=!1;function Nl(t,e){if(!t||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ui(t):""}function uy(t){switch(t.tag){case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return t=Nl(t.type,!1),t;case 11:return t=Nl(t.type.render,!1),t;case 1:return t=Nl(t.type,!0),t;default:return""}}function da(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ar:return"Fragment";case lr:return"Portal";case aa:return"Profiler";case Tu:return"StrictMode";case ua:return"Suspense";case ca:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lf:return(t.displayName||"Context")+".Consumer";case Of:return(t._context.displayName||"Context")+".Provider";case Ru:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pu:return e=t.displayName||null,e!==null?e:da(t.type)||"Memo";case an:e=t._payload,t=t._init;try{return da(t(e))}catch{}}return null}function cy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return da(e);case 8:return e===Tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dy(t){var e=zf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ns(t){t._valueTracker||(t._valueTracker=dy(t))}function jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function to(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ha(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function md(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uf(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function fa(t,e){Uf(t,e);var n=Nn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pa(t,e.type,n):e.hasOwnProperty("defaultValue")&&pa(t,e.type,Nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pa(t,e,n){(e!=="number"||to(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ci=Array.isArray;function wr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ma(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(ci(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nn(n)}}function Bf(t,e){var n=Nn(e.value),r=Nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _d(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ks,Hf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hy=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(t){hy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pi[e]=pi[t]})});function $f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pi.hasOwnProperty(t)&&pi[t]?(""+e).trim():e+"px"}function Vf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$f(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fy=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(t,e){if(e){if(fy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function _a(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=null;function Du(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wa=null,Cr=null,xr=null;function vd(t){if(t=is(t)){if(typeof wa!="function")throw Error(S(280));var e=t.stateNode;e&&(e=Yo(e),wa(t.stateNode,t.type,e))}}function Gf(t){Cr?xr?xr.push(t):xr=[t]:Cr=t}function Qf(){if(Cr){var t=Cr,e=xr;if(xr=Cr=null,vd(t),e)for(t=0;t<e.length;t++)vd(e[t])}}function Kf(t,e){return t(e)}function Yf(){}var kl=!1;function qf(t,e,n){if(kl)return t(e,n);kl=!0;try{return Kf(t,e,n)}finally{kl=!1,(Cr!==null||xr!==null)&&(Yf(),Qf())}}function Pi(t,e){var n=t.stateNode;if(n===null)return null;var r=Yo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Ca=!1;if(qt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Ca=!1}function py(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var mi=!1,no=null,ro=!1,xa=null,my={onError:function(t){mi=!0,no=t}};function gy(t,e,n,r,i,s,o,l,a){mi=!1,no=null,py.apply(my,arguments)}function yy(t,e,n,r,i,s,o,l,a){if(gy.apply(this,arguments),mi){if(mi){var u=no;mi=!1,no=null}else throw Error(S(198));ro||(ro=!0,xa=u)}}function nr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wd(t){if(nr(t)!==t)throw Error(S(188))}function _y(t){var e=t.alternate;if(!e){if(e=nr(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wd(i),t;if(s===r)return wd(i),e;s=s.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Jf(t){return t=_y(t),t!==null?Zf(t):null}function Zf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zf(t);if(e!==null)return e;t=t.sibling}return null}var ep=rt.unstable_scheduleCallback,Cd=rt.unstable_cancelCallback,vy=rt.unstable_shouldYield,wy=rt.unstable_requestPaint,_e=rt.unstable_now,Cy=rt.unstable_getCurrentPriorityLevel,bu=rt.unstable_ImmediatePriority,tp=rt.unstable_UserBlockingPriority,io=rt.unstable_NormalPriority,xy=rt.unstable_LowPriority,np=rt.unstable_IdlePriority,Vo=null,zt=null;function Sy(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Vo,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:ky,Ey=Math.log,Ny=Math.LN2;function ky(t){return t>>>=0,t===0?32:31-(Ey(t)/Ny|0)|0}var Is=64,Ts=4194304;function di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function so(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=di(l):(s&=o,s!==0&&(r=di(s)))}else o=n&~i,o!==0?r=di(o):s!==0&&(r=di(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function Iy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Iy(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Sa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rp(){var t=Is;return Is<<=1,!(Is&4194240)&&(Is=64),t}function Il(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function Ry(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Au(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function ip(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sp,Mu,op,lp,ap,Ea=!1,Rs=[],pn=null,mn=null,gn=null,Di=new Map,bi=new Map,cn=[],Py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(t,e){switch(t){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(e.pointerId)}}function Zr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=is(e),e!==null&&Mu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dy(t,e,n,r,i){switch(e){case"focusin":return pn=Zr(pn,t,e,n,r,i),!0;case"dragenter":return mn=Zr(mn,t,e,n,r,i),!0;case"mouseover":return gn=Zr(gn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Di.set(s,Zr(Di.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bi.set(s,Zr(bi.get(s)||null,t,e,n,r,i)),!0}return!1}function up(t){var e=zn(t.target);if(e!==null){var n=nr(e);if(n!==null){if(e=n.tag,e===13){if(e=Xf(n),e!==null){t.blockedOn=e,ap(t.priority,function(){op(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $s(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Na(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);va=r,n.target.dispatchEvent(r),va=null}else return e=is(n),e!==null&&Mu(e),t.blockedOn=n,!1;e.shift()}return!0}function Sd(t,e,n){$s(t)&&n.delete(e)}function by(){Ea=!1,pn!==null&&$s(pn)&&(pn=null),mn!==null&&$s(mn)&&(mn=null),gn!==null&&$s(gn)&&(gn=null),Di.forEach(Sd),bi.forEach(Sd)}function ei(t,e){t.blockedOn===e&&(t.blockedOn=null,Ea||(Ea=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,by)))}function Ai(t){function e(i){return ei(i,t)}if(0<Rs.length){ei(Rs[0],t);for(var n=1;n<Rs.length;n++){var r=Rs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pn!==null&&ei(pn,t),mn!==null&&ei(mn,t),gn!==null&&ei(gn,t),Di.forEach(e),bi.forEach(e),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)up(n),n.blockedOn===null&&cn.shift()}var Sr=rn.ReactCurrentBatchConfig,oo=!0;function Ay(t,e,n,r){var i=ee,s=Sr.transition;Sr.transition=null;try{ee=1,Ou(t,e,n,r)}finally{ee=i,Sr.transition=s}}function My(t,e,n,r){var i=ee,s=Sr.transition;Sr.transition=null;try{ee=4,Ou(t,e,n,r)}finally{ee=i,Sr.transition=s}}function Ou(t,e,n,r){if(oo){var i=Na(t,e,n,r);if(i===null)Fl(t,e,r,lo,n),xd(t,r);else if(Dy(i,t,e,n,r))r.stopPropagation();else if(xd(t,r),e&4&&-1<Py.indexOf(t)){for(;i!==null;){var s=is(i);if(s!==null&&sp(s),s=Na(t,e,n,r),s===null&&Fl(t,e,r,lo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fl(t,e,r,null,n)}}var lo=null;function Na(t,e,n,r){if(lo=null,t=Du(r),t=zn(t),t!==null)if(e=nr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lo=t,null}function cp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cy()){case bu:return 1;case tp:return 4;case io:case xy:return 16;case np:return 536870912;default:return 16}default:return 16}}var hn=null,Lu=null,Vs=null;function dp(){if(Vs)return Vs;var t,e=Lu,n=e.length,r,i="value"in hn?hn.value:hn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vs=i.slice(t,1<r?1-r:void 0)}function Gs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ps(){return!0}function Ed(){return!1}function st(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ps:Ed,this.isPropagationStopped=Ed,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),e}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=st(Hr),rs=me({},Hr,{view:0,detail:0}),Oy=st(rs),Tl,Rl,ti,Go=me({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(Tl=t.screenX-ti.screenX,Rl=t.screenY-ti.screenY):Rl=Tl=0,ti=t),Tl)},movementY:function(t){return"movementY"in t?t.movementY:Rl}}),Nd=st(Go),Ly=me({},Go,{dataTransfer:0}),Fy=st(Ly),zy=me({},rs,{relatedTarget:0}),Pl=st(zy),jy=me({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Uy=st(jy),By=me({},Hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wy=st(By),Hy=me({},Hr,{data:0}),kd=st(Hy),$y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gy[t])?!!e[t]:!1}function zu(){return Qy}var Ky=me({},rs,{key:function(t){if(t.key){var e=$y[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yy=st(Ky),qy=me({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=st(qy),Xy=me({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),Jy=st(Xy),Zy=me({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),e_=st(Zy),t_=me({},Go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n_=st(t_),r_=[9,13,27,32],ju=qt&&"CompositionEvent"in window,gi=null;qt&&"documentMode"in document&&(gi=document.documentMode);var i_=qt&&"TextEvent"in window&&!gi,hp=qt&&(!ju||gi&&8<gi&&11>=gi),Td=String.fromCharCode(32),Rd=!1;function fp(t,e){switch(t){case"keyup":return r_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function s_(t,e){switch(t){case"compositionend":return pp(e);case"keypress":return e.which!==32?null:(Rd=!0,Td);case"textInput":return t=e.data,t===Td&&Rd?null:t;default:return null}}function o_(t,e){if(ur)return t==="compositionend"||!ju&&fp(t,e)?(t=dp(),Vs=Lu=hn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hp&&e.locale!=="ko"?null:e.data;default:return null}}var l_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l_[t.type]:e==="textarea"}function mp(t,e,n,r){Gf(r),e=ao(e,"onChange"),0<e.length&&(n=new Fu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yi=null,Mi=null;function a_(t){kp(t,0)}function Qo(t){var e=hr(t);if(jf(e))return t}function u_(t,e){if(t==="change")return e}var gp=!1;if(qt){var Dl;if(qt){var bl="oninput"in document;if(!bl){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),bl=typeof Dd.oninput=="function"}Dl=bl}else Dl=!1;gp=Dl&&(!document.documentMode||9<document.documentMode)}function bd(){yi&&(yi.detachEvent("onpropertychange",yp),Mi=yi=null)}function yp(t){if(t.propertyName==="value"&&Qo(Mi)){var e=[];mp(e,Mi,t,Du(t)),qf(a_,e)}}function c_(t,e,n){t==="focusin"?(bd(),yi=e,Mi=n,yi.attachEvent("onpropertychange",yp)):t==="focusout"&&bd()}function d_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(Mi)}function h_(t,e){if(t==="click")return Qo(e)}function f_(t,e){if(t==="input"||t==="change")return Qo(e)}function p_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:p_;function Oi(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!la.call(e,i)||!Rt(t[i],e[i]))return!1}return!0}function Ad(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,e){var n=Ad(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ad(n)}}function _p(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_p(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vp(){for(var t=window,e=to();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=to(t.document)}return e}function Uu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m_(t){var e=vp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_p(n.ownerDocument.documentElement,n)){if(r!==null&&Uu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Md(n,s);var o=Md(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var g_=qt&&"documentMode"in document&&11>=document.documentMode,cr=null,ka=null,_i=null,Ia=!1;function Od(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ia||cr==null||cr!==to(r)||(r=cr,"selectionStart"in r&&Uu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_i&&Oi(_i,r)||(_i=r,r=ao(ka,"onSelect"),0<r.length&&(e=new Fu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cr)))}function Ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},Al={},wp={};qt&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Ko(t){if(Al[t])return Al[t];if(!dr[t])return t;var e=dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wp)return Al[t]=e[n];return t}var Cp=Ko("animationend"),xp=Ko("animationiteration"),Sp=Ko("animationstart"),Ep=Ko("transitionend"),Np=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,e){Np.set(t,e),tr(e,[t])}for(var Ml=0;Ml<Ld.length;Ml++){var Ol=Ld[Ml],y_=Ol.toLowerCase(),__=Ol[0].toUpperCase()+Ol.slice(1);Rn(y_,"on"+__)}Rn(Cp,"onAnimationEnd");Rn(xp,"onAnimationIteration");Rn(Sp,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Ep,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Fd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yy(r,e,void 0,t),t.currentTarget=null}function kp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Fd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Fd(i,l,u),s=a}}}if(ro)throw t=xa,ro=!1,xa=null,t}function oe(t,e){var n=e[ba];n===void 0&&(n=e[ba]=new Set);var r=t+"__bubble";n.has(r)||(Ip(e,t,2,!1),n.add(r))}function Ll(t,e,n){var r=0;e&&(r|=4),Ip(n,t,r,e)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Li(t){if(!t[bs]){t[bs]=!0,Mf.forEach(function(n){n!=="selectionchange"&&(v_.has(n)||Ll(n,!1,t),Ll(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bs]||(e[bs]=!0,Ll("selectionchange",!1,e))}}function Ip(t,e,n,r){switch(cp(e)){case 1:var i=Ay;break;case 4:i=My;break;default:i=Ou}n=i.bind(null,e,n,t),i=void 0,!Ca||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}qf(function(){var u=s,h=Du(n),d=[];e:{var c=Np.get(t);if(c!==void 0){var y=Fu,v=t;switch(t){case"keypress":if(Gs(n)===0)break e;case"keydown":case"keyup":y=Yy;break;case"focusin":v="focus",y=Pl;break;case"focusout":v="blur",y=Pl;break;case"beforeblur":case"afterblur":y=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Jy;break;case Cp:case xp:case Sp:y=Uy;break;case Ep:y=e_;break;case"scroll":y=Oy;break;case"wheel":y=n_;break;case"copy":case"cut":case"paste":y=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Id}var x=(e&4)!==0,O=!x&&t==="scroll",g=x?c!==null?c+"Capture":null:c;x=[];for(var f=u,m;f!==null;){m=f;var C=m.stateNode;if(m.tag===5&&C!==null&&(m=C,g!==null&&(C=Pi(f,g),C!=null&&x.push(Fi(f,C,m)))),O)break;f=f.return}0<x.length&&(c=new y(c,v,null,n,h),d.push({event:c,listeners:x}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",c&&n!==va&&(v=n.relatedTarget||n.fromElement)&&(zn(v)||v[Xt]))break e;if((y||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?zn(v):null,v!==null&&(O=nr(v),v!==O||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(x=Nd,C="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=Id,C="onPointerLeave",g="onPointerEnter",f="pointer"),O=y==null?c:hr(y),m=v==null?c:hr(v),c=new x(C,f+"leave",y,n,h),c.target=O,c.relatedTarget=m,C=null,zn(h)===u&&(x=new x(g,f+"enter",v,n,h),x.target=m,x.relatedTarget=O,C=x),O=C,y&&v)t:{for(x=y,g=v,f=0,m=x;m;m=sr(m))f++;for(m=0,C=g;C;C=sr(C))m++;for(;0<f-m;)x=sr(x),f--;for(;0<m-f;)g=sr(g),m--;for(;f--;){if(x===g||g!==null&&x===g.alternate)break t;x=sr(x),g=sr(g)}x=null}else x=null;y!==null&&zd(d,c,y,x,!1),v!==null&&O!==null&&zd(d,O,v,x,!0)}}e:{if(c=u?hr(u):window,y=c.nodeName&&c.nodeName.toLowerCase(),y==="select"||y==="input"&&c.type==="file")var k=u_;else if(Pd(c))if(gp)k=f_;else{k=d_;var A=c_}else(y=c.nodeName)&&y.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(k=h_);if(k&&(k=k(t,u))){mp(d,k,n,h);break e}A&&A(t,c,u),t==="focusout"&&(A=c._wrapperState)&&A.controlled&&c.type==="number"&&pa(c,"number",c.value)}switch(A=u?hr(u):window,t){case"focusin":(Pd(A)||A.contentEditable==="true")&&(cr=A,ka=u,_i=null);break;case"focusout":_i=ka=cr=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Od(d,n,h);break;case"selectionchange":if(g_)break;case"keydown":case"keyup":Od(d,n,h)}var P;if(ju)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ur?fp(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(hp&&n.locale!=="ko"&&(ur||D!=="onCompositionStart"?D==="onCompositionEnd"&&ur&&(P=dp()):(hn=h,Lu="value"in hn?hn.value:hn.textContent,ur=!0)),A=ao(u,D),0<A.length&&(D=new kd(D,t,null,n,h),d.push({event:D,listeners:A}),P?D.data=P:(P=pp(n),P!==null&&(D.data=P)))),(P=i_?s_(t,n):o_(t,n))&&(u=ao(u,"onBeforeInput"),0<u.length&&(h=new kd("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=P))}kp(d,e)})}function Fi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ao(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pi(t,n),s!=null&&r.unshift(Fi(t,s,i)),s=Pi(t,e),s!=null&&r.push(Fi(t,s,i))),t=t.return}return r}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Pi(n,s),a!=null&&o.unshift(Fi(n,a,l))):i||(a=Pi(n,s),a!=null&&o.push(Fi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var w_=/\r\n?/g,C_=/\u0000|\uFFFD/g;function jd(t){return(typeof t=="string"?t:""+t).replace(w_,`
`).replace(C_,"")}function As(t,e,n){if(e=jd(e),jd(t)!==e&&n)throw Error(S(425))}function uo(){}var Ta=null,Ra=null;function Pa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,S_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(t){return Ud.resolve(null).then(t).catch(E_)}:Da;function E_(t){setTimeout(function(){throw t})}function zl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ai(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ai(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Ft="__reactFiber$"+$r,zi="__reactProps$"+$r,Xt="__reactContainer$"+$r,ba="__reactEvents$"+$r,N_="__reactListeners$"+$r,k_="__reactHandles$"+$r;function zn(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xt]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bd(t);t!==null;){if(n=t[Ft])return n;t=Bd(t)}return e}t=n,n=t.parentNode}return null}function is(t){return t=t[Ft]||t[Xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function Yo(t){return t[zi]||null}var Aa=[],fr=-1;function Pn(t){return{current:t}}function ae(t){0>fr||(t.current=Aa[fr],Aa[fr]=null,fr--)}function se(t,e){fr++,Aa[fr]=t.current,t.current=e}var kn={},ze=Pn(kn),Ke=Pn(!1),Gn=kn;function br(t,e){var n=t.type.contextTypes;if(!n)return kn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ye(t){return t=t.childContextTypes,t!=null}function co(){ae(Ke),ae(ze)}function Wd(t,e,n){if(ze.current!==kn)throw Error(S(168));se(ze,e),se(Ke,n)}function Tp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,cy(t)||"Unknown",i));return me({},n,r)}function ho(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kn,Gn=ze.current,se(ze,t),se(Ke,Ke.current),!0}function Hd(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Tp(t,e,Gn),r.__reactInternalMemoizedMergedChildContext=t,ae(Ke),ae(ze),se(ze,t)):ae(Ke),se(Ke,n)}var $t=null,qo=!1,jl=!1;function Rp(t){$t===null?$t=[t]:$t.push(t)}function I_(t){qo=!0,Rp(t)}function Dn(){if(!jl&&$t!==null){jl=!0;var t=0,e=ee;try{var n=$t;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,qo=!1}catch(i){throw $t!==null&&($t=$t.slice(t+1)),ep(bu,Dn),i}finally{ee=e,jl=!1}}return null}var pr=[],mr=0,fo=null,po=0,at=[],ut=0,Qn=null,Vt=1,Gt="";function Mn(t,e){pr[mr++]=po,pr[mr++]=fo,fo=t,po=e}function Pp(t,e,n){at[ut++]=Vt,at[ut++]=Gt,at[ut++]=Qn,Qn=t;var r=Vt;t=Gt;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var s=32-kt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vt=1<<32-kt(e)+i|n<<i|r,Gt=s+t}else Vt=1<<s|n<<i|r,Gt=t}function Bu(t){t.return!==null&&(Mn(t,1),Pp(t,1,0))}function Wu(t){for(;t===fo;)fo=pr[--mr],pr[mr]=null,po=pr[--mr],pr[mr]=null;for(;t===Qn;)Qn=at[--ut],at[ut]=null,Gt=at[--ut],at[ut]=null,Vt=at[--ut],at[ut]=null}var nt=null,tt=null,de=!1,xt=null;function Dp(t,e){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $d(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qn!==null?{id:Vt,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Ma(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oa(t){if(de){var e=tt;if(e){var n=e;if(!$d(t,e)){if(Ma(t))throw Error(S(418));e=yn(n.nextSibling);var r=nt;e&&$d(t,e)?Dp(r,n):(t.flags=t.flags&-4097|2,de=!1,nt=t)}}else{if(Ma(t))throw Error(S(418));t.flags=t.flags&-4097|2,de=!1,nt=t}}}function Vd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Ms(t){if(t!==nt)return!1;if(!de)return Vd(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pa(t.type,t.memoizedProps)),e&&(e=tt)){if(Ma(t))throw bp(),Error(S(418));for(;e;)Dp(t,e),e=yn(e.nextSibling)}if(Vd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?yn(t.stateNode.nextSibling):null;return!0}function bp(){for(var t=tt;t;)t=yn(t.nextSibling)}function Ar(){tt=nt=null,de=!1}function Hu(t){xt===null?xt=[t]:xt.push(t)}var T_=rn.ReactCurrentBatchConfig;function wt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var mo=Pn(null),go=null,gr=null,$u=null;function Vu(){$u=gr=go=null}function Gu(t){var e=mo.current;ae(mo),t._currentValue=e}function La(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Er(t,e){go=t,$u=gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ve=!0),t.firstContext=null)}function ht(t){var e=t._currentValue;if($u!==t)if(t={context:t,memoizedValue:e,next:null},gr===null){if(go===null)throw Error(S(308));gr=t,go.dependencies={lanes:0,firstContext:t}}else gr=gr.next=t;return e}var jn=null;function Qu(t){jn===null?jn=[t]:jn.push(t)}function Ap(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jt(t,r)}function Jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var un=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _n(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jt(t,n)}return i=r.interleaved,i===null?(e.next=e,Qu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jt(t,n)}function Qs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Au(t,n)}}function Gd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yo(t,e,n,r){var i=t.updateQueue;un=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,h=u=a=null,l=s;do{var c=l.lane,y=l.eventTime;if((r&c)===c){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(c=e,y=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(y,d,c);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,c=typeof v=="function"?v.call(y,d,c):v,c==null)break e;d=me({},d,c);break e;case 2:un=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else y={eventTime:y,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,a=d):h=h.next=y,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yn|=o,t.lanes=o,t.memoizedState=d}}function Qd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var Op=new Af.Component().refs;function Fa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xo={isMounted:function(t){return(t=t._reactInternals)?nr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ue(),i=wn(t),s=Kt(r,i);s.payload=e,n!=null&&(s.callback=n),e=_n(t,s,i),e!==null&&(It(e,t,i,r),Qs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ue(),i=wn(t),s=Kt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_n(t,s,i),e!==null&&(It(e,t,i,r),Qs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),r=wn(t),i=Kt(n,r);i.tag=2,e!=null&&(i.callback=e),e=_n(t,i,r),e!==null&&(It(e,t,r,n),Qs(e,t,r))}};function Kd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Oi(n,r)||!Oi(i,s):!0}function Lp(t,e,n){var r=!1,i=kn,s=e.contextType;return typeof s=="object"&&s!==null?s=ht(s):(i=Ye(e)?Gn:ze.current,r=e.contextTypes,s=(r=r!=null)?br(t,i):kn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Yd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xo.enqueueReplaceState(e,e.state,null)}function za(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Op,Ku(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ht(s):(s=Ye(e)?Gn:ze.current,i.context=br(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xo.enqueueReplaceState(i,i.state,null),yo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ni(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Op&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function Os(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qd(t){var e=t._init;return e(t._payload)}function Fp(t){function e(g,f){if(t){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function i(g,f){return g=Cn(g,f),g.index=0,g.sibling=null,g}function s(g,f,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,m,C){return f===null||f.tag!==6?(f=Gl(m,g.mode,C),f.return=g,f):(f=i(f,m),f.return=g,f)}function a(g,f,m,C){var k=m.type;return k===ar?h(g,f,m.props.children,C,m.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===an&&qd(k)===f.type)?(C=i(f,m.props),C.ref=ni(g,f,m),C.return=g,C):(C=Zs(m.type,m.key,m.props,null,g.mode,C),C.ref=ni(g,f,m),C.return=g,C)}function u(g,f,m,C){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ql(m,g.mode,C),f.return=g,f):(f=i(f,m.children||[]),f.return=g,f)}function h(g,f,m,C,k){return f===null||f.tag!==7?(f=$n(m,g.mode,C,k),f.return=g,f):(f=i(f,m),f.return=g,f)}function d(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Gl(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Es:return m=Zs(f.type,f.key,f.props,null,g.mode,m),m.ref=ni(g,null,f),m.return=g,m;case lr:return f=Ql(f,g.mode,m),f.return=g,f;case an:var C=f._init;return d(g,C(f._payload),m)}if(ci(f)||Xr(f))return f=$n(f,g.mode,m,null),f.return=g,f;Os(g,f)}return null}function c(g,f,m,C){var k=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(g,f,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Es:return m.key===k?a(g,f,m,C):null;case lr:return m.key===k?u(g,f,m,C):null;case an:return k=m._init,c(g,f,k(m._payload),C)}if(ci(m)||Xr(m))return k!==null?null:h(g,f,m,C,null);Os(g,m)}return null}function y(g,f,m,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(m)||null,l(f,g,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Es:return g=g.get(C.key===null?m:C.key)||null,a(f,g,C,k);case lr:return g=g.get(C.key===null?m:C.key)||null,u(f,g,C,k);case an:var A=C._init;return y(g,f,m,A(C._payload),k)}if(ci(C)||Xr(C))return g=g.get(m)||null,h(f,g,C,k,null);Os(f,C)}return null}function v(g,f,m,C){for(var k=null,A=null,P=f,D=f=0,ue=null;P!==null&&D<m.length;D++){P.index>D?(ue=P,P=null):ue=P.sibling;var H=c(g,P,m[D],C);if(H===null){P===null&&(P=ue);break}t&&P&&H.alternate===null&&e(g,P),f=s(H,f,D),A===null?k=H:A.sibling=H,A=H,P=ue}if(D===m.length)return n(g,P),de&&Mn(g,D),k;if(P===null){for(;D<m.length;D++)P=d(g,m[D],C),P!==null&&(f=s(P,f,D),A===null?k=P:A.sibling=P,A=P);return de&&Mn(g,D),k}for(P=r(g,P);D<m.length;D++)ue=y(P,g,D,m[D],C),ue!==null&&(t&&ue.alternate!==null&&P.delete(ue.key===null?D:ue.key),f=s(ue,f,D),A===null?k=ue:A.sibling=ue,A=ue);return t&&P.forEach(function(He){return e(g,He)}),de&&Mn(g,D),k}function x(g,f,m,C){var k=Xr(m);if(typeof k!="function")throw Error(S(150));if(m=k.call(m),m==null)throw Error(S(151));for(var A=k=null,P=f,D=f=0,ue=null,H=m.next();P!==null&&!H.done;D++,H=m.next()){P.index>D?(ue=P,P=null):ue=P.sibling;var He=c(g,P,H.value,C);if(He===null){P===null&&(P=ue);break}t&&P&&He.alternate===null&&e(g,P),f=s(He,f,D),A===null?k=He:A.sibling=He,A=He,P=ue}if(H.done)return n(g,P),de&&Mn(g,D),k;if(P===null){for(;!H.done;D++,H=m.next())H=d(g,H.value,C),H!==null&&(f=s(H,f,D),A===null?k=H:A.sibling=H,A=H);return de&&Mn(g,D),k}for(P=r(g,P);!H.done;D++,H=m.next())H=y(P,g,D,H.value,C),H!==null&&(t&&H.alternate!==null&&P.delete(H.key===null?D:H.key),f=s(H,f,D),A===null?k=H:A.sibling=H,A=H);return t&&P.forEach(function(bn){return e(g,bn)}),de&&Mn(g,D),k}function O(g,f,m,C){if(typeof m=="object"&&m!==null&&m.type===ar&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Es:e:{for(var k=m.key,A=f;A!==null;){if(A.key===k){if(k=m.type,k===ar){if(A.tag===7){n(g,A.sibling),f=i(A,m.props.children),f.return=g,g=f;break e}}else if(A.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===an&&qd(k)===A.type){n(g,A.sibling),f=i(A,m.props),f.ref=ni(g,A,m),f.return=g,g=f;break e}n(g,A);break}else e(g,A);A=A.sibling}m.type===ar?(f=$n(m.props.children,g.mode,C,m.key),f.return=g,g=f):(C=Zs(m.type,m.key,m.props,null,g.mode,C),C.ref=ni(g,f,m),C.return=g,g=C)}return o(g);case lr:e:{for(A=m.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(g,f.sibling),f=i(f,m.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=Ql(m,g.mode,C),f.return=g,g=f}return o(g);case an:return A=m._init,O(g,f,A(m._payload),C)}if(ci(m))return v(g,f,m,C);if(Xr(m))return x(g,f,m,C);Os(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(g,f.sibling),f=i(f,m),f.return=g,g=f):(n(g,f),f=Gl(m,g.mode,C),f.return=g,g=f),o(g)):n(g,f)}return O}var Mr=Fp(!0),zp=Fp(!1),ss={},jt=Pn(ss),ji=Pn(ss),Ui=Pn(ss);function Un(t){if(t===ss)throw Error(S(174));return t}function Yu(t,e){switch(se(Ui,e),se(ji,t),se(jt,ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ga(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ga(e,t)}ae(jt),se(jt,e)}function Or(){ae(jt),ae(ji),ae(Ui)}function jp(t){Un(Ui.current);var e=Un(jt.current),n=ga(e,t.type);e!==n&&(se(ji,t),se(jt,n))}function qu(t){ji.current===t&&(ae(jt),ae(ji))}var fe=Pn(0);function _o(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ul=[];function Xu(){for(var t=0;t<Ul.length;t++)Ul[t]._workInProgressVersionPrimary=null;Ul.length=0}var Ks=rn.ReactCurrentDispatcher,Bl=rn.ReactCurrentBatchConfig,Kn=0,pe=null,we=null,Ne=null,vo=!1,vi=!1,Bi=0,R_=0;function Me(){throw Error(S(321))}function Ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function Zu(t,e,n,r,i,s){if(Kn=s,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ks.current=t===null||t.memoizedState===null?A_:M_,t=n(r,i),vi){s=0;do{if(vi=!1,Bi=0,25<=s)throw Error(S(301));s+=1,Ne=we=null,e.updateQueue=null,Ks.current=O_,t=n(r,i)}while(vi)}if(Ks.current=wo,e=we!==null&&we.next!==null,Kn=0,Ne=we=pe=null,vo=!1,e)throw Error(S(300));return t}function ec(){var t=Bi!==0;return Bi=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?pe.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function ft(){if(we===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Ne===null?pe.memoizedState:Ne.next;if(e!==null)Ne=e,we=t;else{if(t===null)throw Error(S(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ne===null?pe.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function Wi(t,e){return typeof e=="function"?e(t):e}function Wl(t){var e=ft(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=we,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var h=u.lane;if((Kn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,pe.lanes|=h,Yn|=h}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Rt(r,e.memoizedState)||(Ve=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pe.lanes|=s,Yn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hl(t){var e=ft(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rt(s,e.memoizedState)||(Ve=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Up(){}function Bp(t,e){var n=pe,r=ft(),i=e(),s=!Rt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ve=!0),r=r.queue,tc($p.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,Hi(9,Hp.bind(null,n,r,i,e),void 0,null),Te===null)throw Error(S(349));Kn&30||Wp(n,e,i)}return i}function Wp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hp(t,e,n,r){e.value=n,e.getSnapshot=r,Vp(e)&&Gp(t)}function $p(t,e,n){return n(function(){Vp(e)&&Gp(t)})}function Vp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function Gp(t){var e=Jt(t,1);e!==null&&It(e,t,1,-1)}function Xd(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},e.queue=t,t=t.dispatch=b_.bind(null,pe,t),[e.memoizedState,t]}function Hi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qp(){return ft().memoizedState}function Ys(t,e,n,r){var i=Lt();pe.flags|=t,i.memoizedState=Hi(1|e,n,void 0,r===void 0?null:r)}function Jo(t,e,n,r){var i=ft();r=r===void 0?null:r;var s=void 0;if(we!==null){var o=we.memoizedState;if(s=o.destroy,r!==null&&Ju(r,o.deps)){i.memoizedState=Hi(e,n,s,r);return}}pe.flags|=t,i.memoizedState=Hi(1|e,n,s,r)}function Jd(t,e){return Ys(8390656,8,t,e)}function tc(t,e){return Jo(2048,8,t,e)}function Kp(t,e){return Jo(4,2,t,e)}function Yp(t,e){return Jo(4,4,t,e)}function qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xp(t,e,n){return n=n!=null?n.concat([t]):null,Jo(4,4,qp.bind(null,e,t),n)}function nc(){}function Jp(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ju(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zp(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ju(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function em(t,e,n){return Kn&21?(Rt(n,e)||(n=rp(),pe.lanes|=n,Yn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ve=!0),t.memoizedState=n)}function P_(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Bl.transition;Bl.transition={};try{t(!1),e()}finally{ee=n,Bl.transition=r}}function tm(){return ft().memoizedState}function D_(t,e,n){var r=wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nm(t))rm(e,n);else if(n=Ap(t,e,n,r),n!==null){var i=Ue();It(n,t,r,i),im(n,e,r)}}function b_(t,e,n){var r=wn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nm(t))rm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Rt(l,o)){var a=e.interleaved;a===null?(i.next=i,Qu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Ap(t,e,i,r),n!==null&&(i=Ue(),It(n,t,r,i),im(n,e,r))}}function nm(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function rm(t,e){vi=vo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function im(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Au(t,n)}}var wo={readContext:ht,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},A_={readContext:ht,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:ht,useEffect:Jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ys(4194308,4,qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ys(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ys(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D_.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:Xd,useDebugValue:nc,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=Xd(!1),e=t[0];return t=P_.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,i=Lt();if(de){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),Te===null)throw Error(S(349));Kn&30||Wp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jd($p.bind(null,r,s,t),[t]),r.flags|=2048,Hi(9,Hp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lt(),e=Te.identifierPrefix;if(de){var n=Gt,r=Vt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M_={readContext:ht,useCallback:Jp,useContext:ht,useEffect:tc,useImperativeHandle:Xp,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Zp,useReducer:Wl,useRef:Qp,useState:function(){return Wl(Wi)},useDebugValue:nc,useDeferredValue:function(t){var e=ft();return em(e,we.memoizedState,t)},useTransition:function(){var t=Wl(Wi)[0],e=ft().memoizedState;return[t,e]},useMutableSource:Up,useSyncExternalStore:Bp,useId:tm,unstable_isNewReconciler:!1},O_={readContext:ht,useCallback:Jp,useContext:ht,useEffect:tc,useImperativeHandle:Xp,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Zp,useReducer:Hl,useRef:Qp,useState:function(){return Hl(Wi)},useDebugValue:nc,useDeferredValue:function(t){var e=ft();return we===null?e.memoizedState=t:em(e,we.memoizedState,t)},useTransition:function(){var t=Hl(Wi)[0],e=ft().memoizedState;return[t,e]},useMutableSource:Up,useSyncExternalStore:Bp,useId:tm,unstable_isNewReconciler:!1};function Lr(t,e){try{var n="",r=e;do n+=uy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $l(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ja(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L_=typeof WeakMap=="function"?WeakMap:Map;function sm(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xo||(xo=!0,Ya=r),ja(t,e)},n}function om(t,e,n){n=Kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ja(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ja(t,e),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q_.bind(null,t,e,n),e.then(t,t))}function eh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function th(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kt(-1,1),e.tag=2,_n(n,e,1))),n.lanes|=1),t)}var F_=rn.ReactCurrentOwner,Ve=!1;function je(t,e,n,r){e.child=t===null?zp(e,null,n,r):Mr(e,t.child,n,r)}function nh(t,e,n,r,i){n=n.render;var s=e.ref;return Er(e,i),r=Zu(t,e,n,r,s,i),n=ec(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zt(t,e,i)):(de&&n&&Bu(e),e.flags|=1,je(t,e,r,i),e.child)}function rh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lm(t,e,s,r,i)):(t=Zs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&t.ref===e.ref)return Zt(t,e,i)}return e.flags|=1,t=Cn(s,r),t.ref=e.ref,t.return=e,e.child=t}function lm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oi(s,r)&&t.ref===e.ref)if(Ve=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ve=!0);else return e.lanes=t.lanes,Zt(t,e,i)}return Ua(t,e,n,r,i)}function am(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(_r,et),et|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(_r,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se(_r,et),et|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,se(_r,et),et|=r;return je(t,e,i,n),e.child}function um(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ua(t,e,n,r,i){var s=Ye(n)?Gn:ze.current;return s=br(e,s),Er(e,i),n=Zu(t,e,n,r,s,i),r=ec(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zt(t,e,i)):(de&&r&&Bu(e),e.flags|=1,je(t,e,n,i),e.child)}function ih(t,e,n,r,i){if(Ye(n)){var s=!0;ho(e)}else s=!1;if(Er(e,i),e.stateNode===null)qs(t,e),Lp(e,n,r),za(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ye(n)?Gn:ze.current,u=br(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Yd(e,o,r,u),un=!1;var c=e.memoizedState;o.state=c,yo(e,r,o,i),a=e.memoizedState,l!==r||c!==a||Ke.current||un?(typeof h=="function"&&(Fa(e,n,h,r),a=e.memoizedState),(l=un||Kd(e,n,l,r,c,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:wt(e.type,l),o.props=u,d=e.pendingProps,c=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ht(a):(a=Ye(n)?Gn:ze.current,a=br(e,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||c!==a)&&Yd(e,o,r,a),un=!1,c=e.memoizedState,o.state=c,yo(e,r,o,i);var v=e.memoizedState;l!==d||c!==v||Ke.current||un?(typeof y=="function"&&(Fa(e,n,y,r),v=e.memoizedState),(u=un||Kd(e,n,u,r,c,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return Ba(t,e,n,r,s,i)}function Ba(t,e,n,r,i,s){um(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Hd(e,n,!1),Zt(t,e,s);r=e.stateNode,F_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mr(e,t.child,null,s),e.child=Mr(e,null,l,s)):je(t,e,l,s),e.memoizedState=r.state,i&&Hd(e,n,!0),e.child}function cm(t){var e=t.stateNode;e.pendingContext?Wd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wd(t,e.context,!1),Yu(t,e.containerInfo)}function sh(t,e,n,r,i){return Ar(),Hu(i),e.flags|=256,je(t,e,n,r),e.child}var Wa={dehydrated:null,treeContext:null,retryLane:0};function Ha(t){return{baseLanes:t,cachePool:null,transitions:null}}function dm(t,e,n){var r=e.pendingProps,i=fe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),se(fe,i&1),t===null)return Oa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tl(o,r,0,null),t=$n(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ha(n),e.memoizedState=Wa,t):rc(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return z_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Cn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Cn(l,s):(s=$n(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ha(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wa,r}return s=t.child,t=s.sibling,r=Cn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rc(t,e){return e=tl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ls(t,e,n,r){return r!==null&&Hu(r),Mr(e,t.child,null,n),t=rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function z_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$l(Error(S(422))),Ls(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=tl({mode:"visible",children:r.children},i,0,null),s=$n(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mr(e,t.child,null,o),e.child.memoizedState=Ha(o),e.memoizedState=Wa,s);if(!(e.mode&1))return Ls(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(S(419)),r=$l(s,r,void 0),Ls(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ve||l){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jt(t,i),It(r,t,i,-1))}return uc(),r=$l(Error(S(421))),Ls(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tt=yn(i.nextSibling),nt=e,de=!0,xt=null,t!==null&&(at[ut++]=Vt,at[ut++]=Gt,at[ut++]=Qn,Vt=t.id,Gt=t.overflow,Qn=e),e=rc(e,r.children),e.flags|=4096,e)}function oh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),La(t.return,e,n)}function Vl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(je(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oh(t,n,e);else if(t.tag===19)oh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_o(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_o(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vl(e,!0,n,null,s);break;case"together":Vl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j_(t,e,n){switch(e.tag){case 3:cm(e),Ar();break;case 5:jp(e);break;case 1:Ye(e.type)&&ho(e);break;case 4:Yu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;se(mo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?dm(t,e,n):(se(fe,fe.current&1),t=Zt(t,e,n),t!==null?t.sibling:null);se(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,am(t,e,n)}return Zt(t,e,n)}var fm,$a,pm,mm;fm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$a=function(){};pm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Un(jt.current);var s=null;switch(n){case"input":i=ha(t,i),r=ha(t,r),s=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),s=[];break;case"textarea":i=ma(t,i),r=ma(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uo)}ya(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&oe("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};mm=function(t,e,n,r){n!==r&&(e.flags|=4)};function ri(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U_(t,e,n){var r=e.pendingProps;switch(Wu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Ye(e.type)&&co(),Oe(e),null;case 3:return r=e.stateNode,Or(),ae(Ke),ae(ze),Xu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ms(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(Ja(xt),xt=null))),$a(t,e),Oe(e),null;case 5:qu(e);var i=Un(Ui.current);if(n=e.type,t!==null&&e.stateNode!=null)pm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return Oe(e),null}if(t=Un(jt.current),Ms(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ft]=e,r[zi]=s,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<hi.length;i++)oe(hi[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":md(r,s),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},oe("invalid",r);break;case"textarea":yd(r,s),oe("invalid",r)}ya(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&As(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&As(r.textContent,l,t),i=["children",""+l]):Ti.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&oe("scroll",r)}switch(n){case"input":Ns(r),gd(r,s,!0);break;case"textarea":Ns(r),_d(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ft]=e,t[zi]=r,fm(t,e,!1,!1),e.stateNode=t;e:{switch(o=_a(n,r),n){case"dialog":oe("cancel",t),oe("close",t),i=r;break;case"iframe":case"object":case"embed":oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<hi.length;i++)oe(hi[i],t);i=r;break;case"source":oe("error",t),i=r;break;case"img":case"image":case"link":oe("error",t),oe("load",t),i=r;break;case"details":oe("toggle",t),i=r;break;case"input":md(t,r),i=ha(t,r),oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),oe("invalid",t);break;case"textarea":yd(t,r),i=ma(t,r),oe("invalid",t);break;default:i=r}ya(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Vf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Hf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ri(t,a):typeof a=="number"&&Ri(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ti.hasOwnProperty(s)?a!=null&&s==="onScroll"&&oe("scroll",t):a!=null&&Iu(t,s,a,o))}switch(n){case"input":Ns(t),gd(t,r,!1);break;case"textarea":Ns(t),_d(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wr(t,!!r.multiple,s,!1):r.defaultValue!=null&&wr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)mm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Un(Ui.current),Un(jt.current),Ms(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ft]=e,(s=r.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:As(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&As(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=e,e.stateNode=r}return Oe(e),null;case 13:if(ae(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&tt!==null&&e.mode&1&&!(e.flags&128))bp(),Ar(),e.flags|=98560,s=!1;else if(s=Ms(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(S(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[Ft]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),s=!1}else xt!==null&&(Ja(xt),xt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?xe===0&&(xe=3):uc())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return Or(),$a(t,e),t===null&&Li(e.stateNode.containerInfo),Oe(e),null;case 10:return Gu(e.type._context),Oe(e),null;case 17:return Ye(e.type)&&co(),Oe(e),null;case 19:if(ae(fe),s=e.memoizedState,s===null)return Oe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ri(s,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_o(t),o!==null){for(e.flags|=128,ri(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(fe,fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&_e()>Fr&&(e.flags|=128,r=!0,ri(s,!1),e.lanes=4194304)}else{if(!r)if(t=_o(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ri(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!de)return Oe(e),null}else 2*_e()-s.renderingStartTime>Fr&&n!==1073741824&&(e.flags|=128,r=!0,ri(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_e(),e.sibling=null,n=fe.current,se(fe,r?n&1|2:n&1),e):(Oe(e),null);case 22:case 23:return ac(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?et&1073741824&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function B_(t,e){switch(Wu(e),e.tag){case 1:return Ye(e.type)&&co(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Or(),ae(Ke),ae(ze),Xu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qu(e),null;case 13:if(ae(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(fe),null;case 4:return Or(),null;case 10:return Gu(e.type._context),null;case 22:case 23:return ac(),null;case 24:return null;default:return null}}var Fs=!1,Le=!1,W_=typeof WeakSet=="function"?WeakSet:Set,R=null;function yr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Va(t,e,n){try{n()}catch(r){ge(t,e,r)}}var lh=!1;function H_(t,e){if(Ta=oo,t=vp(),Uu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,d=t,c=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)c=d,d=y;for(;;){if(d===t)break t;if(c===n&&++u===i&&(l=o),c===s&&++h===r&&(a=o),(y=d.nextSibling)!==null)break;d=c,c=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ra={focusedElem:t,selectionRange:n},oo=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,O=v.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:wt(e.type,x),O);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(C){ge(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=lh,lh=!1,v}function wi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Va(e,n,s)}i=i.next}while(i!==r)}}function Zo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ga(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gm(t){var e=t.alternate;e!==null&&(t.alternate=null,gm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[zi],delete e[ba],delete e[N_],delete e[k_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ym(t){return t.tag===5||t.tag===3||t.tag===4}function ah(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uo));else if(r!==4&&(t=t.child,t!==null))for(Qa(t,e,n),t=t.sibling;t!==null;)Qa(t,e,n),t=t.sibling}function Ka(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ka(t,e,n),t=t.sibling;t!==null;)Ka(t,e,n),t=t.sibling}var Pe=null,Ct=!1;function ln(t,e,n){for(n=n.child;n!==null;)_m(t,e,n),n=n.sibling}function _m(t,e,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:Le||yr(n,e);case 6:var r=Pe,i=Ct;Pe=null,ln(t,e,n),Pe=r,Ct=i,Pe!==null&&(Ct?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Ct?(t=Pe,n=n.stateNode,t.nodeType===8?zl(t.parentNode,n):t.nodeType===1&&zl(t,n),Ai(t)):zl(Pe,n.stateNode));break;case 4:r=Pe,i=Ct,Pe=n.stateNode.containerInfo,Ct=!0,ln(t,e,n),Pe=r,Ct=i;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Va(n,e,o),i=i.next}while(i!==r)}ln(t,e,n);break;case 1:if(!Le&&(yr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,e,l)}ln(t,e,n);break;case 21:ln(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,ln(t,e,n),Le=r):ln(t,e,n);break;default:ln(t,e,n)}}function uh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W_),e.forEach(function(r){var i=J_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,Ct=!1;break e;case 3:Pe=l.stateNode.containerInfo,Ct=!0;break e;case 4:Pe=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Pe===null)throw Error(S(160));_m(s,o,i),Pe=null,Ct=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vm(e,t),e=e.sibling}function vm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vt(e,t),Ot(t),r&4){try{wi(3,t,t.return),Zo(3,t)}catch(x){ge(t,t.return,x)}try{wi(5,t,t.return)}catch(x){ge(t,t.return,x)}}break;case 1:vt(e,t),Ot(t),r&512&&n!==null&&yr(n,n.return);break;case 5:if(vt(e,t),Ot(t),r&512&&n!==null&&yr(n,n.return),t.flags&32){var i=t.stateNode;try{Ri(i,"")}catch(x){ge(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Uf(i,s),_a(l,o);var u=_a(l,s);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?Vf(i,d):h==="dangerouslySetInnerHTML"?Hf(i,d):h==="children"?Ri(i,d):Iu(i,h,d,u)}switch(l){case"input":fa(i,s);break;case"textarea":Bf(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?wr(i,!!s.multiple,y,!1):c!==!!s.multiple&&(s.defaultValue!=null?wr(i,!!s.multiple,s.defaultValue,!0):wr(i,!!s.multiple,s.multiple?[]:"",!1))}i[zi]=s}catch(x){ge(t,t.return,x)}}break;case 6:if(vt(e,t),Ot(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ge(t,t.return,x)}}break;case 3:if(vt(e,t),Ot(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(e.containerInfo)}catch(x){ge(t,t.return,x)}break;case 4:vt(e,t),Ot(t);break;case 13:vt(e,t),Ot(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(oc=_e())),r&4&&uh(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(u=Le)||h,vt(e,t),Le=u):vt(e,t),Ot(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(R=t,h=t.child;h!==null;){for(d=R=h;R!==null;){switch(c=R,y=c.child,c.tag){case 0:case 11:case 14:case 15:wi(4,c,c.return);break;case 1:yr(c,c.return);var v=c.stateNode;if(typeof v.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ge(r,n,x)}}break;case 5:yr(c,c.return);break;case 22:if(c.memoizedState!==null){dh(d);continue}}y!==null?(y.return=c,R=y):dh(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=$f("display",o))}catch(x){ge(t,t.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){ge(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vt(e,t),Ot(t),r&4&&uh(t);break;case 21:break;default:vt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ym(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ri(i,""),r.flags&=-33);var s=ah(t);Ka(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ah(t);Qa(t,l,o);break;default:throw Error(S(161))}}catch(a){ge(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $_(t,e,n){R=t,wm(t)}function wm(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Le;l=Fs;var u=Le;if(Fs=o,(Le=a)&&!u)for(R=i;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?hh(i):a!==null?(a.return=o,R=a):hh(i);for(;s!==null;)R=s,wm(s),s=s.sibling;R=i,Fs=l,Le=u}ch(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):ch(t)}}function ch(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||Zo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Le||e.flags&512&&Ga(e)}catch(c){ge(e,e.return,c)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function dh(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function hh(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zo(4,e)}catch(a){ge(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ge(e,i,a)}}var s=e.return;try{Ga(e)}catch(a){ge(e,s,a)}break;case 5:var o=e.return;try{Ga(e)}catch(a){ge(e,o,a)}}}catch(a){ge(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var V_=Math.ceil,Co=rn.ReactCurrentDispatcher,ic=rn.ReactCurrentOwner,dt=rn.ReactCurrentBatchConfig,K=0,Te=null,ve=null,be=0,et=0,_r=Pn(0),xe=0,$i=null,Yn=0,el=0,sc=0,Ci=null,$e=null,oc=0,Fr=1/0,Ht=null,xo=!1,Ya=null,vn=null,zs=!1,fn=null,So=0,xi=0,qa=null,Xs=-1,Js=0;function Ue(){return K&6?_e():Xs!==-1?Xs:Xs=_e()}function wn(t){return t.mode&1?K&2&&be!==0?be&-be:T_.transition!==null?(Js===0&&(Js=rp()),Js):(t=ee,t!==0||(t=window.event,t=t===void 0?16:cp(t.type)),t):1}function It(t,e,n,r){if(50<xi)throw xi=0,qa=null,Error(S(185));ns(t,n,r),(!(K&2)||t!==Te)&&(t===Te&&(!(K&2)&&(el|=n),xe===4&&dn(t,be)),qe(t,r),n===1&&K===0&&!(e.mode&1)&&(Fr=_e()+500,qo&&Dn()))}function qe(t,e){var n=t.callbackNode;Ty(t,e);var r=so(t,t===Te?be:0);if(r===0)n!==null&&Cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cd(n),e===1)t.tag===0?I_(fh.bind(null,t)):Rp(fh.bind(null,t)),S_(function(){!(K&6)&&Dn()}),n=null;else{switch(ip(r)){case 1:n=bu;break;case 4:n=tp;break;case 16:n=io;break;case 536870912:n=np;break;default:n=io}n=Tm(n,Cm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cm(t,e){if(Xs=-1,Js=0,K&6)throw Error(S(327));var n=t.callbackNode;if(Nr()&&t.callbackNode!==n)return null;var r=so(t,t===Te?be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eo(t,r);else{e=r;var i=K;K|=2;var s=Sm();(Te!==t||be!==e)&&(Ht=null,Fr=_e()+500,Hn(t,e));do try{K_();break}catch(l){xm(t,l)}while(1);Vu(),Co.current=s,K=i,ve!==null?e=0:(Te=null,be=0,e=xe)}if(e!==0){if(e===2&&(i=Sa(t),i!==0&&(r=i,e=Xa(t,i))),e===1)throw n=$i,Hn(t,0),dn(t,r),qe(t,_e()),n;if(e===6)dn(t,r);else{if(i=t.current.alternate,!(r&30)&&!G_(i)&&(e=Eo(t,r),e===2&&(s=Sa(t),s!==0&&(r=s,e=Xa(t,s))),e===1))throw n=$i,Hn(t,0),dn(t,r),qe(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:On(t,$e,Ht);break;case 3:if(dn(t,r),(r&130023424)===r&&(e=oc+500-_e(),10<e)){if(so(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ue(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Da(On.bind(null,t,$e,Ht),e);break}On(t,$e,Ht);break;case 4:if(dn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V_(r/1960))-r,10<r){t.timeoutHandle=Da(On.bind(null,t,$e,Ht),r);break}On(t,$e,Ht);break;case 5:On(t,$e,Ht);break;default:throw Error(S(329))}}}return qe(t,_e()),t.callbackNode===n?Cm.bind(null,t):null}function Xa(t,e){var n=Ci;return t.current.memoizedState.isDehydrated&&(Hn(t,e).flags|=256),t=Eo(t,e),t!==2&&(e=$e,$e=n,e!==null&&Ja(e)),t}function Ja(t){$e===null?$e=t:$e.push.apply($e,t)}function G_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~sc,e&=~el,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function fh(t){if(K&6)throw Error(S(327));Nr();var e=so(t,0);if(!(e&1))return qe(t,_e()),null;var n=Eo(t,e);if(t.tag!==0&&n===2){var r=Sa(t);r!==0&&(e=r,n=Xa(t,r))}if(n===1)throw n=$i,Hn(t,0),dn(t,e),qe(t,_e()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,$e,Ht),qe(t,_e()),null}function lc(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(Fr=_e()+500,qo&&Dn())}}function qn(t){fn!==null&&fn.tag===0&&!(K&6)&&Nr();var e=K;K|=1;var n=dt.transition,r=ee;try{if(dt.transition=null,ee=1,t)return t()}finally{ee=r,dt.transition=n,K=e,!(K&6)&&Dn()}}function ac(){et=_r.current,ae(_r)}function Hn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x_(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&co();break;case 3:Or(),ae(Ke),ae(ze),Xu();break;case 5:qu(r);break;case 4:Or();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:Gu(r.type._context);break;case 22:case 23:ac()}n=n.return}if(Te=t,ve=t=Cn(t.current,null),be=et=e,xe=0,$i=null,sc=el=Yn=0,$e=Ci=null,jn!==null){for(e=0;e<jn.length;e++)if(n=jn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}jn=null}return t}function xm(t,e){do{var n=ve;try{if(Vu(),Ks.current=wo,vo){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vo=!1}if(Kn=0,Ne=we=pe=null,vi=!1,Bi=0,ic.current=null,n===null||n.return===null){xe=1,$i=e,ve=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=eh(o);if(y!==null){y.flags&=-257,th(y,o,l,s,e),y.mode&1&&Zd(s,u,e),e=y,a=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(a),e.updateQueue=x}else v.add(a);break e}else{if(!(e&1)){Zd(s,u,e),uc();break e}a=Error(S(426))}}else if(de&&l.mode&1){var O=eh(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),th(O,o,l,s,e),Hu(Lr(a,l));break e}}s=a=Lr(a,l),xe!==4&&(xe=2),Ci===null?Ci=[s]:Ci.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=sm(s,a,e);Gd(s,g);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(vn===null||!vn.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=om(s,l,e);Gd(s,C);break e}}s=s.return}while(s!==null)}Nm(n)}catch(k){e=k,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function Sm(){var t=Co.current;return Co.current=wo,t===null?wo:t}function uc(){(xe===0||xe===3||xe===2)&&(xe=4),Te===null||!(Yn&268435455)&&!(el&268435455)||dn(Te,be)}function Eo(t,e){var n=K;K|=2;var r=Sm();(Te!==t||be!==e)&&(Ht=null,Hn(t,e));do try{Q_();break}catch(i){xm(t,i)}while(1);if(Vu(),K=n,Co.current=r,ve!==null)throw Error(S(261));return Te=null,be=0,xe}function Q_(){for(;ve!==null;)Em(ve)}function K_(){for(;ve!==null&&!vy();)Em(ve)}function Em(t){var e=Im(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?Nm(t):ve=e,ic.current=null}function Nm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B_(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,ve=null;return}}else if(n=U_(n,e,et),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);xe===0&&(xe=5)}function On(t,e,n){var r=ee,i=dt.transition;try{dt.transition=null,ee=1,Y_(t,e,n,r)}finally{dt.transition=i,ee=r}return null}function Y_(t,e,n,r){do Nr();while(fn!==null);if(K&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ry(t,s),t===Te&&(ve=Te=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,Tm(io,function(){return Nr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dt.transition,dt.transition=null;var o=ee;ee=1;var l=K;K|=4,ic.current=null,H_(t,n),vm(n,t),m_(Ra),oo=!!Ta,Ra=Ta=null,t.current=n,$_(n),wy(),K=l,ee=o,dt.transition=s}else t.current=n;if(zs&&(zs=!1,fn=t,So=i),s=t.pendingLanes,s===0&&(vn=null),Sy(n.stateNode),qe(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xo)throw xo=!1,t=Ya,Ya=null,t;return So&1&&t.tag!==0&&Nr(),s=t.pendingLanes,s&1?t===qa?xi++:(xi=0,qa=t):xi=0,Dn(),null}function Nr(){if(fn!==null){var t=ip(So),e=dt.transition,n=ee;try{if(dt.transition=null,ee=16>t?16:t,fn===null)var r=!1;else{if(t=fn,fn=null,So=0,K&6)throw Error(S(331));var i=K;for(K|=4,R=t.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(R=u;R!==null;){var h=R;switch(h.tag){case 0:case 11:case 15:wi(8,h,s)}var d=h.child;if(d!==null)d.return=h,R=d;else for(;R!==null;){h=R;var c=h.sibling,y=h.return;if(gm(h),h===u){R=null;break}if(c!==null){c.return=y,R=c;break}R=y}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var O=x.sibling;x.sibling=null,x=O}while(x!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,R=g;break e}R=s.return}}var f=t.current;for(R=f;R!==null;){o=R;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,R=m;else e:for(o=f;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zo(9,l)}}catch(k){ge(l,l.return,k)}if(l===o){R=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,R=C;break e}R=l.return}}if(K=i,Dn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Vo,t)}catch{}r=!0}return r}finally{ee=n,dt.transition=e}}return!1}function ph(t,e,n){e=Lr(n,e),e=sm(t,e,1),t=_n(t,e,1),e=Ue(),t!==null&&(ns(t,1,e),qe(t,e))}function ge(t,e,n){if(t.tag===3)ph(t,t,n);else for(;e!==null;){if(e.tag===3){ph(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){t=Lr(n,t),t=om(e,t,1),e=_n(e,t,1),t=Ue(),e!==null&&(ns(e,1,t),qe(e,t));break}}e=e.return}}function q_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(be&n)===n&&(xe===4||xe===3&&(be&130023424)===be&&500>_e()-oc?Hn(t,0):sc|=n),qe(t,e)}function km(t,e){e===0&&(t.mode&1?(e=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):e=1);var n=Ue();t=Jt(t,e),t!==null&&(ns(t,e,n),qe(t,n))}function X_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),km(t,n)}function J_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),km(t,n)}var Im;Im=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ke.current)Ve=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ve=!1,j_(t,e,n);Ve=!!(t.flags&131072)}else Ve=!1,de&&e.flags&1048576&&Pp(e,po,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qs(t,e),t=e.pendingProps;var i=br(e,ze.current);Er(e,n),i=Zu(null,e,r,t,i,n);var s=ec();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ye(r)?(s=!0,ho(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ku(e),i.updater=Xo,e.stateNode=i,i._reactInternals=e,za(e,r,t,n),e=Ba(null,e,r,!0,s,n)):(e.tag=0,de&&s&&Bu(e),je(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ev(r),t=wt(r,t),i){case 0:e=Ua(null,e,r,t,n);break e;case 1:e=ih(null,e,r,t,n);break e;case 11:e=nh(null,e,r,t,n);break e;case 14:e=rh(null,e,r,wt(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),Ua(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),ih(t,e,r,i,n);case 3:e:{if(cm(e),t===null)throw Error(S(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Mp(t,e),yo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lr(Error(S(423)),e),e=sh(t,e,r,n,i);break e}else if(r!==i){i=Lr(Error(S(424)),e),e=sh(t,e,r,n,i);break e}else for(tt=yn(e.stateNode.containerInfo.firstChild),nt=e,de=!0,xt=null,n=zp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===i){e=Zt(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return jp(e),t===null&&Oa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pa(r,i)?o=null:s!==null&&Pa(r,s)&&(e.flags|=32),um(t,e),je(t,e,o,n),e.child;case 6:return t===null&&Oa(e),null;case 13:return dm(t,e,n);case 4:return Yu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mr(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),nh(t,e,r,i,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,se(mo,r._currentValue),r._currentValue=o,s!==null)if(Rt(s.value,o)){if(s.children===i.children&&!Ke.current){e=Zt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Kt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),La(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),La(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Er(e,n),i=ht(i),r=r(i),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,i=wt(r,e.pendingProps),i=wt(r.type,i),rh(t,e,r,i,n);case 15:return lm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),qs(t,e),e.tag=1,Ye(r)?(t=!0,ho(e)):t=!1,Er(e,n),Lp(e,r,i),za(e,r,i,n),Ba(null,e,r,!0,t,n);case 19:return hm(t,e,n);case 22:return am(t,e,n)}throw Error(S(156,e.tag))};function Tm(t,e){return ep(t,e)}function Z_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,e,n,r){return new Z_(t,e,n,r)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ev(t){if(typeof t=="function")return cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ru)return 11;if(t===Pu)return 14}return 2}function Cn(t,e){var n=t.alternate;return n===null?(n=ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ar:return $n(n.children,i,s,e);case Tu:o=8,i|=8;break;case aa:return t=ct(12,n,e,i|2),t.elementType=aa,t.lanes=s,t;case ua:return t=ct(13,n,e,i),t.elementType=ua,t.lanes=s,t;case ca:return t=ct(19,n,e,i),t.elementType=ca,t.lanes=s,t;case Ff:return tl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Of:o=10;break e;case Lf:o=9;break e;case Ru:o=11;break e;case Pu:o=14;break e;case an:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=ct(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $n(t,e,n,r){return t=ct(7,t,r,e),t.lanes=n,t}function tl(t,e,n,r){return t=ct(22,t,r,e),t.elementType=Ff,t.lanes=n,t.stateNode={isHidden:!1},t}function Gl(t,e,n){return t=ct(6,t,null,e),t.lanes=n,t}function Ql(t,e,n){return e=ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dc(t,e,n,r,i,s,o,l,a){return t=new tv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ct(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(s),t}function nv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rm(t){if(!t)return kn;t=t._reactInternals;e:{if(nr(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ye(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Ye(n))return Tp(t,n,e)}return e}function Pm(t,e,n,r,i,s,o,l,a){return t=dc(n,r,!0,t,i,s,o,l,a),t.context=Rm(null),n=t.current,r=Ue(),i=wn(n),s=Kt(r,i),s.callback=e??null,_n(n,s,i),t.current.lanes=i,ns(t,i,r),qe(t,r),t}function nl(t,e,n,r){var i=e.current,s=Ue(),o=wn(i);return n=Rm(n),e.context===null?e.context=n:e.pendingContext=n,e=Kt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_n(i,e,o),t!==null&&(It(t,i,o,s),Qs(t,i,o)),o}function No(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hc(t,e){mh(t,e),(t=t.alternate)&&mh(t,e)}function rv(){return null}var Dm=typeof reportError=="function"?reportError:function(t){console.error(t)};function fc(t){this._internalRoot=t}rl.prototype.render=fc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));nl(t,e,null,null)};rl.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qn(function(){nl(null,t,null,null)}),e[Xt]=null}};function rl(t){this._internalRoot=t}rl.prototype.unstable_scheduleHydration=function(t){if(t){var e=lp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cn.length&&e!==0&&e<cn[n].priority;n++);cn.splice(n,0,t),n===0&&up(t)}};function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gh(){}function iv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=No(o);s.call(u)}}var o=Pm(e,r,t,0,null,!1,!1,"",gh);return t._reactRootContainer=o,t[Xt]=o.current,Li(t.nodeType===8?t.parentNode:t),qn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=No(a);l.call(u)}}var a=dc(t,0,!1,null,null,!1,!1,"",gh);return t._reactRootContainer=a,t[Xt]=a.current,Li(t.nodeType===8?t.parentNode:t),qn(function(){nl(e,a,n,r)}),a}function sl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=No(o);l.call(a)}}nl(e,o,t,i)}else o=iv(n,e,t,i,r);return No(o)}sp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=di(e.pendingLanes);n!==0&&(Au(e,n|1),qe(e,_e()),!(K&6)&&(Fr=_e()+500,Dn()))}break;case 13:qn(function(){var r=Jt(t,1);if(r!==null){var i=Ue();It(r,t,1,i)}}),hc(t,1)}};Mu=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var n=Ue();It(e,t,134217728,n)}hc(t,134217728)}};op=function(t){if(t.tag===13){var e=wn(t),n=Jt(t,e);if(n!==null){var r=Ue();It(n,t,e,r)}hc(t,e)}};lp=function(){return ee};ap=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};wa=function(t,e,n){switch(e){case"input":if(fa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yo(r);if(!i)throw Error(S(90));jf(r),fa(r,i)}}}break;case"textarea":Bf(t,n);break;case"select":e=n.value,e!=null&&wr(t,!!n.multiple,e,!1)}};Kf=lc;Yf=qn;var sv={usingClientEntryPoint:!1,Events:[is,hr,Yo,Gf,Qf,lc]},ii={findFiberByHostInstance:zn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ov={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jf(t),t===null?null:t.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Vo=js.inject(ov),zt=js}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;it.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(e))throw Error(S(200));return nv(t,e,null,n)};it.createRoot=function(t,e){if(!pc(t))throw Error(S(299));var n=!1,r="",i=Dm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dc(t,1,!1,null,null,n,!1,r,i),t[Xt]=e.current,Li(t.nodeType===8?t.parentNode:t),new fc(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Jf(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return qn(t)};it.hydrate=function(t,e,n){if(!il(e))throw Error(S(200));return sl(null,t,e,!0,n)};it.hydrateRoot=function(t,e,n){if(!pc(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Dm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pm(e,null,t,1,n??null,i,!1,s,o),t[Xt]=e.current,Li(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rl(e)};it.render=function(t,e,n){if(!il(e))throw Error(S(200));return sl(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!il(t))throw Error(S(40));return t._reactRootContainer?(qn(function(){sl(null,null,t,!1,function(){t._reactRootContainer=null,t[Xt]=null})}),!0):!1};it.unstable_batchedUpdates=lc;it.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!il(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return sl(t,e,n,!1,r)};it.version="18.2.0-next-9e3b772b8-20220608";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(t){console.error(t)}}bm(),Pf.exports=it;var lv=Pf.exports,yh=lv;oa.createRoot=yh.createRoot,oa.hydrateRoot=yh.hydrateRoot;/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uv=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_h=t=>{const e=uv(t);return e.charAt(0).toUpperCase()+e.slice(1)},Am=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),cv=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},a)=>L.createElement("svg",{ref:a,...dv,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Am("lucide",i),...!s&&!cv(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>L.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const n=L.forwardRef(({className:r,...i},s)=>L.createElement(hv,{ref:s,iconNode:e,className:Am(`lucide-${av(_h(t))}`,`lucide-${t}`,r),...i}));return n.displayName=_h(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pv=ot("calendar",fv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kl=ot("circle-check-big",mv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vh=ot("dollar-sign",gv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_v=ot("eye-off",yv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wv=ot("eye",vv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wh=ot("file-text",Cv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Za=ot("plus",xv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ev=ot("save",Sv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kv=ot("share-2",Nv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Ch=ot("shuffle",Iv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],eo=ot("trophy",Tv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xh=ot("users",Rv);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fi=ot("x",Pv),Dv=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw Vr(e)},Vr=function(t){return new Error("Firebase Database ("+Mm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,h=s>>2,d=(s&3)<<4|l>>4;let c=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(c=64)),r.push(n[h],n[d],n[c],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Om(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new Av;const c=s<<2|l>>4;if(r.push(c),u!==64){const y=l<<4&240|u>>2;if(r.push(y),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Av extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lm=function(t){const e=Om(t);return mc.encodeByteArray(e,!0)},ko=function(t){return Lm(t).replace(/\./g,"")},eu=function(t){try{return mc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){return Fm(void 0,t)}function Fm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ov(n)||(t[n]=Fm(t[n],e[n]));return t}function Ov(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=()=>Lv().__FIREBASE_DEFAULTS__,zv=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eu(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return Dv()||Fv()||zv()||jv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uv=t=>{var e,n;return(n=(e=zm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Bv=t=>{const e=Uv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jm=()=>{var t;return(t=zm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[ko(JSON.stringify(n)),ko(JSON.stringify(o)),l].join(".")}const Si={};function $v(){const t={prod:[],emulator:[]};for(const e of Object.keys(Si))Si[e]?t.emulator.push(e):t.prod.push(e);return t}function Vv(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Sh=!1;function Gv(t,e){if(typeof window>"u"||typeof document>"u"||!gc(window.location.host)||Si[t]===e||Si[t]||Sh)return;Si[t]=e;function n(c){return`__firebase__banner__${c}`}const r="__firebase__banner",s=$v().prod.length>0;function o(){const c=document.getElementById(r);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function a(c,y){c.setAttribute("width","24"),c.setAttribute("id",y),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{Sh=!0,o()},c}function h(c,y){c.setAttribute("id",y),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function d(){const c=Vv(r),y=n("text"),v=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),O=document.getElementById(x)||document.createElement("a"),g=n("preprendIcon"),f=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const m=c.element;l(m),h(O,x);const C=u();a(f,g),m.append(f,v,O,C),document.body.appendChild(m)}s?(v.innerText="Preview backend disconnected.",f.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(f.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Um(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qv())}function Kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bm(){return Mm.NODE_ADMIN===!0}function Yv(){try{return typeof indexedDB=="object"}catch{return!1}}function qv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xv,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wm.prototype.create)}}class Wm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Jv(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new os(i,l,r)}}function Jv(t,e){return t.replace(Zv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Zv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){return JSON.parse(t)}function Ie(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Vi(eu(s[0])||""),n=Vi(eu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},e1=function(t){const e=Hm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},t1=function(t){const e=Hm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Eh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Io(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function To(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Nh(s)&&Nh(o)){if(!To(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const c=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(c<<1|c>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),h=1518500249):(u=s^o^l,h=1859775393):d<60?(u=s&o|l&(s|o),h=2400959708):(u=s^o^l,h=3395469782);const c=(i<<5|i>>>27)+u+a+h+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=c}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ll=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:Ln})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ln){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ln){return this.instances.has(e)}getOptions(e=Ln){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ln){return this.component?this.component.multipleInstances?e:Ln:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(t){return t===Ln?void 0:t}function l1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const u1={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},c1=re.INFO,d1={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},h1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=c1,this._logHandler=h1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const f1=(t,e)=>e.some(n=>t instanceof n);let kh,Ih;function p1(){return kh||(kh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m1(){return Ih||(Ih=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vm=new WeakMap,tu=new WeakMap,Gm=new WeakMap,Yl=new WeakMap,_c=new WeakMap;function g1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vm.set(n,t)}).catch(()=>{}),_c.set(e,t),e}function y1(t){if(tu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tu.set(t,e)}let nu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _1(t){nu=t(nu)}function v1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ql(this),e,...n);return Gm.set(r,e.sort?e.sort():[e]),xn(r)}:m1().includes(t)?function(...e){return t.apply(ql(this),e),xn(Vm.get(this))}:function(...e){return xn(t.apply(ql(this),e))}}function w1(t){return typeof t=="function"?v1(t):(t instanceof IDBTransaction&&y1(t),f1(t,p1())?new Proxy(t,nu):t)}function xn(t){if(t instanceof IDBRequest)return g1(t);if(Yl.has(t))return Yl.get(t);const e=w1(t);return e!==t&&(Yl.set(t,e),_c.set(e,t)),e}const ql=t=>_c.get(t);function C1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=xn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(xn(o.result),a.oldVersion,a.newVersion,xn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const x1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],Xl=new Map;function Th(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xl.get(e))return Xl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x1.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Xl.set(e,s),s}_1(t=>({...t,get:(e,n,r)=>Th(e,n)||t.get(e,n,r),has:(e,n)=>!!Th(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ru="@firebase/app",Rh="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new $m("@firebase/app"),k1="@firebase/app-compat",I1="@firebase/analytics-compat",T1="@firebase/analytics",R1="@firebase/app-check-compat",P1="@firebase/app-check",D1="@firebase/auth",b1="@firebase/auth-compat",A1="@firebase/database",M1="@firebase/data-connect",O1="@firebase/database-compat",L1="@firebase/functions",F1="@firebase/functions-compat",z1="@firebase/installations",j1="@firebase/installations-compat",U1="@firebase/messaging",B1="@firebase/messaging-compat",W1="@firebase/performance",H1="@firebase/performance-compat",$1="@firebase/remote-config",V1="@firebase/remote-config-compat",G1="@firebase/storage",Q1="@firebase/storage-compat",K1="@firebase/firestore",Y1="@firebase/ai",q1="@firebase/firestore-compat",X1="firebase",J1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]",Z1={[ru]:"fire-core",[k1]:"fire-core-compat",[T1]:"fire-analytics",[I1]:"fire-analytics-compat",[P1]:"fire-app-check",[R1]:"fire-app-check-compat",[D1]:"fire-auth",[b1]:"fire-auth-compat",[A1]:"fire-rtdb",[M1]:"fire-data-connect",[O1]:"fire-rtdb-compat",[L1]:"fire-fn",[F1]:"fire-fn-compat",[z1]:"fire-iid",[j1]:"fire-iid-compat",[U1]:"fire-fcm",[B1]:"fire-fcm-compat",[W1]:"fire-perf",[H1]:"fire-perf-compat",[$1]:"fire-rc",[V1]:"fire-rc-compat",[G1]:"fire-gcs",[Q1]:"fire-gcs-compat",[K1]:"fire-fst",[q1]:"fire-fst-compat",[Y1]:"fire-vertex","fire-js":"fire-js",[X1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,ew=new Map,su=new Map;function Ph(t,e){try{t.container.addComponent(e)}catch(n){en.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(su.has(e))return en.debug(`There were multiple attempts to register component ${e}.`),!1;su.set(e,t);for(const n of Ro.values())Ph(n,t);for(const n of ew.values())Ph(n,t);return!0}function tw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nw(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sn=new Wm("app","Firebase",rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=J1;function Qm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iu,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Sn.create("bad-app-name",{appName:String(i)});if(n||(n=jm()),!n)throw Sn.create("no-options");const s=Ro.get(i);if(s){if(To(n,s.options)&&To(r,s.config))return s;throw Sn.create("duplicate-app",{appName:i})}const o=new a1(i);for(const a of su.values())o.addComponent(a);const l=new iw(n,r,o);return Ro.set(i,l),l}function ow(t=iu){const e=Ro.get(t);if(!e&&t===iu&&jm())return Qm();if(!e)throw Sn.create("no-app",{appName:t});return e}function kr(t,e,n){let r=Z1[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),en.warn(o.join(" "));return}Po(new Gi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebase-heartbeat-database",aw=1,Qi="firebase-heartbeat-store";let Jl=null;function Km(){return Jl||(Jl=C1(lw,aw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sn.create("idb-open",{originalErrorMessage:t.message})})),Jl}async function uw(t){try{const n=(await Km()).transaction(Qi),r=await n.objectStore(Qi).get(Ym(t));return await n.done,r}catch(e){if(e instanceof os)en.warn(e.message);else{const n=Sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});en.warn(n.message)}}}async function Dh(t,e){try{const r=(await Km()).transaction(Qi,"readwrite");await r.objectStore(Qi).put(e,Ym(t)),await r.done}catch(n){if(n instanceof os)en.warn(n.message);else{const r=Sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});en.warn(r.message)}}}function Ym(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,dw=30;class hw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bh();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>dw){const o=mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){en.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bh(),{heartbeatsToSend:r,unsentEntries:i}=fw(this._heartbeatsCache.heartbeats),s=ko(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return en.warn(n),""}}}function bh(){return new Date().toISOString().substring(0,10)}function fw(t,e=cw){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ah(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ah(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yv()?qv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ah(t){return ko(JSON.stringify({version:2,heartbeats:t})).length}function mw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){Po(new Gi("platform-logger",e=>new E1(e),"PRIVATE")),Po(new Gi("heartbeat",e=>new hw(e),"PRIVATE")),kr(ru,Rh,t),kr(ru,Rh,"esm2020"),kr("fire-js","")}gw("");const Mh="@firebase/database",Oh="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm="";function yw(t){qm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ie(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _w(e)}}catch{}return new vw},Bn=Xm("localStorage"),ou=Xm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new $m("@firebase/database"),ww=function(){let t=1;return function(){return t++}}(),Jm=function(t){const e=i1(t),n=new r1;n.update(e);const r=n.digest();return mc.encodeByteArray(r)},as=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=as.apply(null,r):typeof r=="object"?e+=Ie(r):e+=r,e+=" "}return e};let Vn=null,Lh=!0;const Cw=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ir.logLevel=re.VERBOSE,Vn=Ir.log.bind(Ir),e&&ou.set("logging_enabled",!0)):typeof t=="function"?Vn=t:(Vn=null,ou.remove("logging_enabled"))},Fe=function(...t){if(Lh===!0&&(Lh=!1,Vn===null&&ou.get("logging_enabled")===!0&&Cw(!0)),Vn){const e=as.apply(null,t);Vn(e)}},us=function(t){return function(...e){Fe(t,...e)}},lu=function(...t){const e="FIREBASE INTERNAL ERROR: "+as(...t);Ir.error(e)},tn=function(...t){const e=`FIREBASE FATAL ERROR: ${as(...t)}`;throw Ir.error(e),new Error(e)},Xe=function(...t){const e="FIREBASE WARNING: "+as(...t);Ir.warn(e)},xw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Sw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jr="[MIN_NAME]",Xn="[MAX_NAME]",Gr=function(t,e){if(t===e)return 0;if(t===jr||e===Xn)return-1;if(e===jr||t===Xn)return 1;{const n=Fh(t),r=Fh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ew=function(t,e){return t===e?0:t<e?-1:1},si=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ie(e))},vc=function(t){if(typeof t!="object"||t===null)return Ie(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ie(e[r]),n+=":",n+=vc(t[e[r]]);return n+="}",n},eg=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tg=function(t){N(!Zm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(a=0;a<64;a+=8){let c=parseInt(h.substr(a,8),2).toString(16);c.length===1&&(c="0"+c),d=d+c}return d.toLowerCase()},Nw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Iw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Tw=new RegExp("^-?(0*)\\d{1,10}$"),Rw=-2147483648,Pw=2147483647,Fh=function(t){if(Tw.test(t)){const e=Number(t);if(e>=Rw&&e<=Pw)return e}return null},Qr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Xe("Exception was thrown by user callback.",n),e},Math.floor(0))}},Dw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ei=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,nw(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Xe(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xe(e)}}class Tr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Tr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="5",ng="v",rg="s",ig="r",sg="f",og=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lg="ls",ag="p",au="ac",ug="websocket",cg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hg(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===ug)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mw(t)&&(n.ns=t.namespace);const i=[];return Je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.counters_={}}incrementCounter(e,n=1){sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Mv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl={},ea={};function Cc(t){const e=t.toString();return Zl[e]||(Zl[e]=new Ow),Zl[e]}function Lw(t,e){const n=t.toString();return ea[n]||(ea[n]=e()),ea[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="start",zw="close",jw="pLPCommand",Uw="pRTLPCB",fg="id",pg="pw",mg="ser",Bw="cb",Ww="seg",Hw="ts",$w="d",Vw="dframe",gg=1870,yg=30,Gw=gg-yg,Qw=25e3,Kw=3e4;class vr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=us(e),this.stats_=Cc(n),this.urlFn=a=>(this.appCheckToken&&(a[au]=this.appCheckToken),hg(n,cg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Fw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kw)),Sw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xc((...s)=>{const[o,l,a,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===zh)this.id=l,this.password=a;else if(o===zw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[zh]="t",r[mg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Bw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ng]=wc,this.transportSessionId&&(r[rg]=this.transportSessionId),this.lastSessionId&&(r[lg]=this.lastSessionId),this.applicationId&&(r[ag]=this.applicationId),this.appCheckToken&&(r[au]=this.appCheckToken),typeof location<"u"&&location.hostname&&og.test(location.hostname)&&(r[ig]=sg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vr.forceAllow_=!0}static forceDisallow(){vr.forceDisallow_=!0}static isAvailable(){return vr.forceAllow_?!0:!vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Nw()&&!kw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Lm(n),i=eg(r,Gw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Vw]="t",r[fg]=e,r[pg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ie(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ww(),window[jw+this.uniqueCallbackIdentifier]=e,window[Uw+this.uniqueCallbackIdentifier]=n,this.myIFrame=xc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Fe("frame writing exception"),l.stack&&Fe(l.stack),Fe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[fg]=this.myID,e[pg]=this.myPW,e[mg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yg+r.length<=gg;){const o=this.pendingSegs.shift();r=r+"&"+Ww+i+"="+o.seg+"&"+Hw+i+"="+o.ts+"&"+$w+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Qw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=16384,qw=45e3;let Do=null;typeof MozWebSocket<"u"?Do=MozWebSocket:typeof WebSocket<"u"&&(Do=WebSocket);class St{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=us(this.connId),this.stats_=Cc(n),this.connURL=St.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ng]=wc,typeof location<"u"&&location.hostname&&og.test(location.hostname)&&(o[ig]=sg),n&&(o[rg]=n),r&&(o[lg]=r),i&&(o[au]=i),s&&(o[ag]=s),hg(e,ug,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bn.set("previous_websocket_failure",!0);try{let r;Bm(),this.mySock=new Do(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){St.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Do!==null&&!St.forceDisallow_}static previouslyFailed(){return Bn.isInMemoryStorage||Bn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eg(n,Yw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}St.responsesRequiredToBeHealthy=2;St.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{static get ALL_TRANSPORTS(){return[vr,St]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=St&&St.isAvailable();let r=n&&!St.previouslyFailed();if(e.webSocketOnly&&(n||Xe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[St];else{const i=this.transports_=[];for(const s of Ki.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ki.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ki.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=6e4,Jw=5e3,Zw=10*1024,eC=100*1024,ta="t",jh="d",tC="s",Uh="r",nC="e",Bh="o",Wh="a",Hh="n",$h="p",rC="h";class iC{constructor(e,n,r,i,s,o,l,a,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=us("c:"+this.id+":"),this.transportManager_=new Ki(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ei(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Zw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ta in e){const n=e[ta];n===Wh?this.upgradeIfSecondaryHealthy_():n===Uh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Bh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=si("t",e),r=si("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$h,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=si("t",e),r=si("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=si(ta,e);if(jh in e){const r=e[jh];if(n===rC){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Hh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tC?this.onConnectionShutdown_(r):n===Uh?this.onReset_(r):n===nC?lu("Server Error: "+r):n===Bh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wc!==r&&Xe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ei(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ei(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$h,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends vg{static getInstance(){return new bo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Um()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=32,Gh=768;class te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function q(){return new te("")}function $(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function In(t){return t.pieces_.length-t.pieceNum_}function ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function wg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Cg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function Ce(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){const n=$(t),r=$(e);if(n===null)return e;if(n===r)return Ge(ie(t),ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Sc(t,e){if(In(t)!==In(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(In(t)>In(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oC{constructor(e,n){this.errorPrefix_=n,this.parts_=Cg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ll(this.parts_[r]);Sg(this)}}function lC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ll(e),Sg(t)}function aC(t){const e=t.parts_.pop();t.byteLength_-=ll(e),t.parts_.length>0&&(t.byteLength_-=1)}function Sg(t){if(t.byteLength_>Gh)throw new Error(t.errorPrefix_+"has a key path longer than "+Gh+" bytes ("+t.byteLength_+").");if(t.parts_.length>Vh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vh+") or object contains a cycle "+Fn(t))}function Fn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends vg{static getInstance(){return new Ec}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=1e3,uC=60*5*1e3,Qh=30*1e3,cC=1.3,dC=3e4,hC="server_kill",Kh=3;class Yt extends _g{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Yt.nextPersistentConnectionId_++,this.log_=us("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oi,this.maxReconnectDelay_=uC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Bm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ec.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ie(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ol,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Yt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&sn(e,"w")){const r=zr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Xe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||t1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=e1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ie(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):lu("Unrecognized action received from server: "+Ie(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dC&&(this.reconnectDelay_=oi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Yt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=c&&c.token,l=new iC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Xe(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(hC)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Xe(d),a())}}}interrupt(e){Fe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Eh(this.interruptReasons_)&&(this.reconnectDelay_=oi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>vc(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new te(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kh&&(this.reconnectDelay_=Qh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+qm.replace(/\./g,"-")]=1,Um()?e["framework.cordova"]=1:Kv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bo.getInstance().currentlyOnline();return Eh(this.interruptReasons_)&&e}}Yt.nextPersistentConnectionId_=0;Yt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new V(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new V(jr,e),i=new V(jr,n);return this.compare(r,i)!==0}minPost(){return V.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us;class Eg extends al{static get __EMPTY_NODE(){return Us}static set __EMPTY_NODE(e){Us=e}compare(e,n){return Gr(e.name,n.name)}isDefinedOn(e){throw Vr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Xn,Us)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,Us)}toString(){return".key"}}const Rr=new Eg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ke.RED,this.left=i??Qe.EMPTY_NODE,this.right=s??Qe.EMPTY_NODE}copy(e,n,r,i,s){return new ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ke.RED=!0;ke.BLACK=!1;class fC{copy(e,n,r,i,s){return this}insert(e,n,r){return new ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qe{constructor(e,n=Qe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Qe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ke.BLACK,null,null))}remove(e){return new Qe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Bs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Bs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Bs(this.root_,null,this.comparator_,!0,e)}}Qe.EMPTY_NODE=new fC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){return Gr(t.name,e.name)}function Nc(t,e){return Gr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu;function mC(t){uu=t}const Ng=function(t){return typeof t=="number"?"number:"+tg(t):"string:"+t},kg=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sn(e,".sv"),"Priority must be a string or number.")}else N(t===uu||t.isEmpty(),"priority of unexpected type.");N(t===uu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh;class Ee{static set __childrenNodeConstructor(e){Yh=e}static get __childrenNodeConstructor(){return Yh}constructor(e,n=Ee.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ee(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ee.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return G(e)?this:$(e)===".priority"?this.priorityNode_:Ee.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ee.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=$(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||In(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ee.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ng(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tg(this.value_):e+=this.value_,this.lazyHash_=Jm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ee.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ee.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ee.VALUE_TYPE_ORDER.indexOf(n),s=Ee.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ee.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig,Tg;function gC(t){Ig=t}function yC(t){Tg=t}class _C extends al{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Gr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Xn,new Ee("[PRIORITY-POST]",Tg))}makePost(e,n){const r=Ig(e);return new V(n,new Ee("[PRIORITY-POST]",r))}toString(){return".priority"}}const ye=new _C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=Math.log(2);class wC{constructor(e){const n=s=>parseInt(Math.log(s)/vC,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ao=function(t,e,n,r){t.sort(e);const i=function(a,u){const h=u-a;let d,c;if(h===0)return null;if(h===1)return d=t[a],c=n?n(d):d,new ke(c,d.node,ke.BLACK,null,null);{const y=parseInt(h/2,10)+a,v=i(a,y),x=i(y+1,u);return d=t[y],c=n?n(d):d,new ke(c,d.node,ke.BLACK,v,x)}},s=function(a){let u=null,h=null,d=t.length;const c=function(v,x){const O=d-v,g=d;d-=v;const f=i(O+1,g),m=t[O],C=n?n(m):m;y(new ke(C,m.node,x,null,f))},y=function(v){u?(u.left=v,u=v):(h=v,u=v)};for(let v=0;v<a.count;++v){const x=a.nextBitIsOne(),O=Math.pow(2,a.count-(v+1));x?c(O,ke.BLACK):(c(O,ke.BLACK),c(O,ke.RED))}return h},o=new wC(t.length),l=s(o);return new Qe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na;const or={};class Qt{static get Default(){return N(or&&ye,"ChildrenNode.ts has not been loaded"),na=na||new Qt({".priority":or},{".priority":ye}),na}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qe?n:null}hasIndex(e){return sn(this.indexSet_,e.toString())}addIndex(e,n){N(e!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(V.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ao(r,e.getCompare()):l=or;const a=e.toString(),u={...this.indexSet_};u[a]=e;const h={...this.indexes_};return h[a]=l,new Qt(h,u)}addToIndexes(e,n){const r=Io(this.indexes_,(i,s)=>{const o=zr(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===or)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(V.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),Ao(l,o.getCompare())}else return or;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new V(e.name,l))),a.insert(e,e.node)}});return new Qt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Io(this.indexes_,i=>{if(i===or)return i;{const s=n.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new Qt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li;class z{static get EMPTY_NODE(){return li||(li=new z(new Qe(Nc),null,Qt.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kg(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||li}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?li:n}}getChild(e){const n=$(e);return n===null?this:this.getImmediateChild(n).getChild(ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new V(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?li:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=$(e);if(r===null)return n;{N($(e)!==".priority"||In(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ie(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ye,(o,l)=>{n[o]=l.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ng(this.getPriority().val())+":"),this.forEachChild(ye,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Jm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new V(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new V(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new V(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cs?-1:0}withIndex(e){if(e===Rr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ye),i=n.getIterator(ye);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Rr?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CC extends z{constructor(){super(new Qe(Nc),z.EMPTY_NODE,Qt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const cs=new CC;Object.defineProperties(V,{MIN:{value:new V(jr,z.EMPTY_NODE)},MAX:{value:new V(Xn,cs)}});Eg.__EMPTY_NODE=z.EMPTY_NODE;Ee.__childrenNodeConstructor=z;mC(cs);yC(cs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=!0;function De(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ee(n,De(e))}if(!(t instanceof Array)&&xC){const n=[];let r=!1;if(Je(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=De(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new V(o,a)))}}),n.length===0)return z.EMPTY_NODE;const s=Ao(n,pC,o=>o.name,Nc);if(r){const o=Ao(n,ye.getCompare());return new z(s,De(e),new Qt({".priority":o},{".priority":ye}))}else return new z(s,De(e),Qt.Default)}else{let n=z.EMPTY_NODE;return Je(t,(r,i)=>{if(sn(t,r)&&r.substring(0,1)!=="."){const s=De(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(De(e))}}gC(De);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends al{constructor(e){super(),this.indexPath_=e,N(!G(e)&&$(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Gr(e.name,n.name):s}makePost(e,n){const r=De(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,cs);return new V(Xn,e)}toString(){return Cg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends al{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Gr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){const r=De(e);return new V(n,r)}toString(){return".value"}}const NC=new EC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return{type:"value",snapshotNode:t}}function Ur(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Yi(n,l)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ur(n,r)):o.trackChildChange(qi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ye,(i,s)=>{n.hasChild(i)||r.trackChildChange(Yi(i,s))}),n.isLeafNode()||n.forEachChild(ye,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(qi(i,s,o))}else r.trackChildChange(Ur(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.indexedFilter_=new kc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xi.getStartPost_(e),this.endPost_=Xi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new V(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(ye,(o,l)=>{s.matches(new V(o,l))||(i=i.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new V(n,r))||(r=z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(c,y)=>d(y,c)}else o=this.index_.getCompare();const l=e;N(l.numChildren()===this.limit_,"");const a=new V(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let c=i.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);const y=c==null?1:o(c,a);if(h&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(qi(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Yi(n,d));const x=l.updateImmediateChild(n,z.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(s!=null&&s.trackChildChange(Ur(c.name,c.node)),x.updateImmediateChild(c.name,c.node)):x}}else return r.isEmpty()?e:h&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Yi(u.name,u.node)),s.trackChildChange(Ur(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jr}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const e=new Ic;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TC(t){return t.loadsAllData()?new kc(t.getIndex()):t.hasLimit()?new IC(t):new Xi(t)}function qh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ye?n="$priority":t.index_===NC?n="$value":t.index_===Rr?n="$key":(N(t.index_ instanceof SC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ie(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ie(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ie(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ie(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ie(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends _g{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=us("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Mo.getListenId_(e,r),l={};this.listens_[o]=l;const a=qh(e._queryParams);this.restRequest_(s+".json",a,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),zr(this.listens_,o)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",i(c,null)}})}unlisten(e,n){const r=Mo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=qh(e._queryParams),r=e._path.toString(),i=new ol;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+n1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Vi(l.responseText)}catch{Xe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Xe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return{value:null,children:new Map}}function Pg(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=$(e);t.children.has(r)||t.children.set(r,Oo());const i=t.children.get(r);e=ie(e),Pg(i,e,n)}}function cu(t,e,n){t.value!==null?n(e,t.value):PC(t,(r,i)=>{const s=new te(e.toString()+"/"+r);cu(i,s,n)})}function PC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=10*1e3,bC=30*1e3,AC=5*60*1e3;class MC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new DC(e);const r=Jh+(bC-Jh)*Math.random();Ei(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Je(e,(i,s)=>{s>0&&sn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ei(this.reportStats_.bind(this),Math.floor(Math.random()*2*AC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nt||(Nt={}));function Dg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nt.ACK_USER_WRITE,this.source=Dg()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(e));return new Lo(q(),n,this.revert)}}else return N($(this.path)===e,"operationForChild called for unrelated child."),new Lo(ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.source=e,this.path=n,this.type=Nt.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new Ji(this.source,q()):new Ji(this.source,ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nt.OVERWRITE}operationForChild(e){return G(this.path)?new Jn(this.source,q(),this.snap.getImmediateChild(e)):new Jn(this.source,ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nt.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new Jn(this.source,q(),n.value):new Zi(this.source,q(),n)}else return N($(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zi(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=$(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function LC(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(kC(o.childName,o.snapshotNode))}),ai(t,i,"child_removed",e,r,n),ai(t,i,"child_added",e,r,n),ai(t,i,"child_moved",s,r,n),ai(t,i,"child_changed",e,r,n),ai(t,i,"value",e,r,n),i}function ai(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>zC(t,l,a)),o.forEach(l=>{const a=FC(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function FC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zC(t,e,n){if(e.childName==null||n.childName==null)throw Vr("Should only compare child_ events.");const r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t,e){return{eventCache:t,serverCache:e}}function Ni(t,e,n,r){return ul(new Zn(e,n,r),t.serverCache)}function bg(t,e,n,r){return ul(t.eventCache,new Zn(e,n,r))}function du(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra;const jC=()=>(ra||(ra=new Qe(Ew)),ra);class le{static fromObject(e){let n=new le(null);return Je(e,(r,i)=>{n=n.set(new te(r),i)}),n}constructor(e,n=jC()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(G(e))return null;{const r=$(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ie(e),n);return s!=null?{path:Ce(new te(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=$(e),r=this.children.get(n);return r!==null?r.subtree(ie(e)):new le(null)}}set(e,n){if(G(e))return new le(n,this.children);{const r=$(e),s=(this.children.get(r)||new le(null)).set(ie(e),n),o=this.children.insert(r,s);return new le(this.value,o)}}remove(e){if(G(e))return this.children.isEmpty()?new le(null):new le(null,this.children);{const n=$(e),r=this.children.get(n);if(r){const i=r.remove(ie(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new le(null):new le(this.value,s)}else return this}}get(e){if(G(e))return this.value;{const n=$(e),r=this.children.get(n);return r?r.get(ie(e)):null}}setTree(e,n){if(G(e))return n;{const r=$(e),s=(this.children.get(r)||new le(null)).setTree(ie(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new le(this.value,o)}}fold(e){return this.fold_(q(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ce(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(G(e))return null;{const s=$(e),o=this.children.get(s);return o?o.findOnPath_(ie(e),Ce(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,r){if(G(e))return this;{this.value&&r(n,this.value);const i=$(e),s=this.children.get(i);return s?s.foreachOnPath_(ie(e),Ce(n,i),r):new le(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ce(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.writeTree_=e}static empty(){return new Tt(new le(null))}}function ki(t,e,n){if(G(e))return new Tt(new le(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ge(i,e);return s=s.updateChild(o,n),new Tt(t.writeTree_.set(i,s))}else{const i=new le(n),s=t.writeTree_.setTree(e,i);return new Tt(s)}}}function Zh(t,e,n){let r=t;return Je(n,(i,s)=>{r=ki(r,Ce(e,i),s)}),r}function ef(t,e){if(G(e))return Tt.empty();{const n=t.writeTree_.setTree(e,new le(null));return new Tt(n)}}function hu(t,e){return rr(t,e)!=null}function rr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function tf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ye,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function En(t,e){if(G(e))return t;{const n=rr(t,e);return n!=null?new Tt(new le(n)):new Tt(t.writeTree_.subtree(e))}}function fu(t){return t.writeTree_.isEmpty()}function Br(t,e){return Ag(q(),t.writeTree_,e)}function Ag(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ag(Ce(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ce(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e){return Fg(e,t)}function UC(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ki(t.visibleWrites,e,n)),t.lastWriteId=r}function BC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function WC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&HC(l,r.path)?i=!1:Et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return $C(t),!0;if(r.snap)t.visibleWrites=ef(t.visibleWrites,r.path);else{const l=r.children;Je(l,a=>{t.visibleWrites=ef(t.visibleWrites,Ce(r.path,a))})}return!0}else return!1}function HC(t,e){if(t.snap)return Et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Et(Ce(t.path,n),e))return!0;return!1}function $C(t){t.visibleWrites=Mg(t.allWrites,VC,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function VC(t){return t.visible}function Mg(t,e,n){let r=Tt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Et(n,o)?(l=Ge(n,o),r=ki(r,l,s.snap)):Et(o,n)&&(l=Ge(o,n),r=ki(r,q(),s.snap.getChild(l)));else if(s.children){if(Et(n,o))l=Ge(n,o),r=Zh(r,l,s.children);else if(Et(o,n))if(l=Ge(o,n),G(l))r=Zh(r,q(),s.children);else{const a=zr(s.children,$(l));if(a){const u=a.getChild(ie(l));r=ki(r,q(),u)}}}else throw Vr("WriteRecord should have .snap or .children")}}return r}function Og(t,e,n,r,i){if(!r&&!i){const s=rr(t.visibleWrites,e);if(s!=null)return s;{const o=En(t.visibleWrites,e);if(fu(o))return n;if(n==null&&!hu(o,q()))return null;{const l=n||z.EMPTY_NODE;return Br(o,l)}}}else{const s=En(t.visibleWrites,e);if(!i&&fu(s))return n;if(!i&&n==null&&!hu(s,q()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Et(u.path,e)||Et(e,u.path))},l=Mg(t.allWrites,o,e),a=n||z.EMPTY_NODE;return Br(l,a)}}}function GC(t,e,n){let r=z.EMPTY_NODE;const i=rr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ye,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=En(t.visibleWrites,e);return n.forEachChild(ye,(o,l)=>{const a=Br(En(s,new te(o)),l);r=r.updateImmediateChild(o,a)}),tf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=En(t.visibleWrites,e);return tf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function QC(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ce(e,n);if(hu(t.visibleWrites,s))return null;{const o=En(t.visibleWrites,s);return fu(o)?i.getChild(n):Br(o,i.getChild(n))}}function KC(t,e,n,r){const i=Ce(e,n),s=rr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=En(t.visibleWrites,i);return Br(o,r.getNode().getImmediateChild(n))}else return null}function YC(t,e){return rr(t.visibleWrites,e)}function qC(t,e,n,r,i,s,o){let l;const a=En(t.visibleWrites,e),u=rr(a,q());if(u!=null)l=u;else if(n!=null)l=Br(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),c=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=c.getNext();for(;y&&h.length<i;)d(y,r)!==0&&h.push(y),y=c.getNext();return h}else return[]}function XC(){return{visibleWrites:Tt.empty(),allWrites:[],lastWriteId:-1}}function Fo(t,e,n,r){return Og(t.writeTree,t.treePath,e,n,r)}function Dc(t,e){return GC(t.writeTree,t.treePath,e)}function nf(t,e,n,r){return QC(t.writeTree,t.treePath,e,n,r)}function zo(t,e){return YC(t.writeTree,Ce(t.treePath,e))}function JC(t,e,n,r,i,s){return qC(t.writeTree,t.treePath,e,n,r,i,s)}function bc(t,e,n){return KC(t.writeTree,t.treePath,e,n)}function Lg(t,e){return Fg(Ce(t.treePath,e),t.writeTree)}function Fg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,qi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Yi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ur(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,qi(r,e.snapshotNode,i.oldSnap));else throw Vr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const zg=new ex;class Ac{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:er(this.viewCache_),s=JC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){return{filter:t}}function nx(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rx(t,e,n,r,i){const s=new ZC;let o,l;if(n.type===Nt.OVERWRITE){const u=n;u.source.fromUser?o=pu(t,e,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!G(u.path),o=jo(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Nt.MERGE){const u=n;u.source.fromUser?o=sx(t,e,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=mu(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Nt.ACK_USER_WRITE){const u=n;u.revert?o=ax(t,e,u.path,r,i,s):o=ox(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Nt.LISTEN_COMPLETE)o=lx(t,e,n.path,r,s);else throw Vr("Unknown operation type: "+n.type);const a=s.getChanges();return ix(e,o,a),{viewCache:o,changes:a}}function ix(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=du(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Rg(du(e)))}}function jg(t,e,n,r,i,s){const o=e.eventCache;if(zo(r,n)!=null)return e;{let l,a;if(G(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=er(e),h=u instanceof z?u:z.EMPTY_NODE,d=Dc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Fo(r,er(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=$(n);if(u===".priority"){N(In(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const d=nf(r,n,h,a);d!=null?l=t.filter.updatePriority(h,d):l=o.getNode()}else{const h=ie(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const c=nf(r,n,o.getNode(),a);c!=null?d=o.getNode().getImmediateChild(u).updateChild(h,c):d=o.getNode().getImmediateChild(u)}else d=bc(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,h,i,s):l=o.getNode()}}return Ni(e,l,o.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function jo(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(G(n))u=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);u=h.updateFullNode(a.getNode(),y,null)}else{const y=$(n);if(!a.isCompleteForPath(n)&&In(n)>1)return e;const v=ie(n),O=a.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?u=h.updatePriority(a.getNode(),O):u=h.updateChild(a.getNode(),y,O,v,zg,null)}const d=bg(e,u,a.isFullyInitialized()||G(n),h.filtersNodes()),c=new Ac(i,d,s);return jg(t,d,n,i,c,l)}function pu(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const h=new Ac(i,e,s);if(G(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Ni(e,u,!0,t.filter.filtersNodes());else{const d=$(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ni(e,u,l.isFullyInitialized(),l.isFiltered());else{const c=ie(n),y=l.getNode().getImmediateChild(d);let v;if(G(c))v=r;else{const x=h.getCompleteChild(d);x!=null?wg(c)===".priority"&&x.getChild(xg(c)).isEmpty()?v=x:v=x.updateChild(c,r):v=z.EMPTY_NODE}if(y.equals(v))a=e;else{const x=t.filter.updateChild(l.getNode(),d,v,c,h,o);a=Ni(e,x,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function rf(t,e){return t.eventCache.isCompleteForChild(e)}function sx(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const h=Ce(n,a);rf(e,$(h))&&(l=pu(t,l,h,u,i,s,o))}),r.foreach((a,u)=>{const h=Ce(n,a);rf(e,$(h))||(l=pu(t,l,h,u,i,s,o))}),l}function sf(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;G(n)?u=r:u=new le(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,c)=>{if(h.hasChild(d)){const y=e.serverCache.getNode().getImmediateChild(d),v=sf(t,y,c);a=jo(t,a,new te(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,c)=>{const y=!e.serverCache.isCompleteForChild(d)&&c.value===null;if(!h.hasChild(d)&&!y){const v=e.serverCache.getNode().getImmediateChild(d),x=sf(t,v,c);a=jo(t,a,new te(d),x,i,s,o,l)}}),a}function ox(t,e,n,r,i,s,o){if(zo(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(G(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return jo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(G(n)){let u=new le(null);return a.getNode().forEachChild(Rr,(h,d)=>{u=u.set(new te(h),d)}),mu(t,e,n,u,i,s,l,o)}else return e}else{let u=new le(null);return r.foreach((h,d)=>{const c=Ce(n,h);a.isCompleteForPath(c)&&(u=u.set(h,a.getNode().getChild(c)))}),mu(t,e,n,u,i,s,l,o)}}function lx(t,e,n,r,i){const s=e.serverCache,o=bg(e,s.getNode(),s.isFullyInitialized()||G(n),s.isFiltered());return jg(t,o,n,r,zg,i)}function ax(t,e,n,r,i,s){let o;if(zo(r,n)!=null)return e;{const l=new Ac(r,e,i),a=e.eventCache.getNode();let u;if(G(n)||$(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Fo(r,er(e));else{const d=e.serverCache.getNode();N(d instanceof z,"serverChildren would be complete if leaf node"),h=Dc(r,d)}h=h,u=t.filter.updateFullNode(a,h,s)}else{const h=$(n);let d=bc(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=a.getImmediateChild(h)),d!=null?u=t.filter.updateChild(a,h,d,ie(n),l,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(a,h,z.EMPTY_NODE,ie(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Fo(r,er(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||zo(r,q())!=null,Ni(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new kc(r.getIndex()),s=TC(r);this.processor_=tx(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(z.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(z.EMPTY_NODE,l.getNode(),null),h=new Zn(a,o.isFullyInitialized(),i.filtersNodes()),d=new Zn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=ul(d,h),this.eventGenerator_=new OC(this.query_)}get query(){return this.query_}}function cx(t){return t.viewCache_.serverCache.getNode()}function dx(t,e){const n=er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild($(e)).isEmpty())?n.getChild(e):null}function of(t){return t.eventRegistrations_.length===0}function hx(t,e){t.eventRegistrations_.push(e)}function lf(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function af(t,e,n,r){e.type===Nt.MERGE&&e.source.queryId!==null&&(N(er(t.viewCache_),"We should always have a full cache before handling merges"),N(du(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=rx(t.processor_,i,e,n,r);return nx(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Ug(t,s.changes,s.viewCache.eventCache.getNode(),null)}function fx(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ye,(s,o)=>{r.push(Ur(s,o))}),n.isFullyInitialized()&&r.push(Rg(n.getNode())),Ug(t,r,n.getNode(),e)}function Ug(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return LC(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class px{constructor(){this.views=new Map}}function mx(t){N(!Uo,"__referenceConstructor has already been defined"),Uo=t}function gx(){return N(Uo,"Reference.ts has not been loaded"),Uo}function yx(t){return t.views.size===0}function Mc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),af(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(af(o,e,n,r));return s}}function _x(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Fo(n,i?r:null),a=!1;l?a=!0:r instanceof z?(l=Dc(n,r),a=!1):(l=z.EMPTY_NODE,a=!1);const u=ul(new Zn(l,a,!1),new Zn(r,i,!1));return new ux(e,u)}return o}function vx(t,e,n,r,i,s){const o=_x(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),hx(o,n),fx(o,n)}function wx(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Tn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(lf(u,n,r)),of(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(lf(a,n,r)),of(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Tn(t)&&s.push(new(gx())(e._repo,e._path)),{removed:s,events:o}}function Bg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pr(t,e){let n=null;for(const r of t.views.values())n=n||dx(r,e);return n}function Wg(t,e){if(e._queryParams.loadsAllData())return cl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Hg(t,e){return Wg(t,e)!=null}function Tn(t){return cl(t)!=null}function cl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;function Cx(t){N(!Bo,"__referenceConstructor has already been defined"),Bo=t}function xx(){return N(Bo,"Reference.ts has not been loaded"),Bo}let Sx=1;class uf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new le(null),this.pendingWriteTree_=XC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $g(t,e,n,r,i){return UC(t.pendingWriteTree_,e,n,r,i),i?ds(t,new Jn(Dg(),e,n)):[]}function Wn(t,e,n=!1){const r=BC(t.pendingWriteTree_,e);if(WC(t.pendingWriteTree_,e)){let s=new le(null);return r.snap!=null?s=s.set(q(),!0):Je(r.children,o=>{s=s.set(new te(o),!0)}),ds(t,new Lo(r.path,s,n))}else return[]}function dl(t,e,n){return ds(t,new Jn(Tc(),e,n))}function Ex(t,e,n){const r=le.fromObject(n);return ds(t,new Zi(Tc(),e,r))}function Nx(t,e){return ds(t,new Ji(Tc(),e))}function kx(t,e,n){const r=Lc(t,n);if(r){const i=Fc(r),s=i.path,o=i.queryId,l=Ge(s,e),a=new Ji(Rc(o),l);return zc(t,s,a)}else return[]}function gu(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Hg(o,e))){const a=wx(o,e,n,r);yx(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(c,y)=>Tn(y));if(h&&!d){const c=t.syncPointTree_.subtree(s);if(!c.isEmpty()){const y=Rx(c);for(let v=0;v<y.length;++v){const x=y[v],O=x.query,g=Qg(t,x);t.listenProvider_.startListening(Ii(O),Wo(t,O),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(Ii(e),null):u.forEach(c=>{const y=t.queryToTagMap.get(hl(c));t.listenProvider_.stopListening(Ii(c),y)}))}Px(t,u)}return l}function Ix(t,e,n,r){const i=Lc(t,r);if(i!=null){const s=Fc(i),o=s.path,l=s.queryId,a=Ge(o,e),u=new Jn(Rc(l),a,n);return zc(t,o,u)}else return[]}function Tx(t,e,n,r){const i=Lc(t,r);if(i){const s=Fc(i),o=s.path,l=s.queryId,a=Ge(o,e),u=le.fromObject(n),h=new Zi(Rc(l),a,u);return zc(t,o,h)}else return[]}function cf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(c,y)=>{const v=Ge(c,i);s=s||Pr(y,v),o=o||Tn(y)});let l=t.syncPointTree_.get(i);l?(o=o||Tn(l),s=s||Pr(l,q())):(l=new px,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,v)=>{const x=Pr(v,q());x&&(s=s.updateImmediateChild(y,x))}));const u=Hg(l,e);if(!u&&!e._queryParams.loadsAllData()){const c=hl(e);N(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const y=Dx();t.queryToTagMap.set(c,y),t.tagToQueryMap.set(y,c)}const h=Pc(t.pendingWriteTree_,i);let d=vx(l,e,n,h,s,a);if(!u&&!o&&!r){const c=Wg(l,e);d=d.concat(bx(t,e,c))}return d}function Oc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ge(o,e),u=Pr(l,a);if(u)return u});return Og(i,e,s,n,!0)}function ds(t,e){return Vg(e,t.syncPointTree_,null,Pc(t.pendingWriteTree_,q()))}function Vg(t,e,n,r){if(G(t.path))return Gg(t,e,n,r);{const i=e.get(q());n==null&&i!=null&&(n=Pr(i,q()));let s=[];const o=$(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,h=Lg(r,o);s=s.concat(Vg(l,a,u,h))}return i&&(s=s.concat(Mc(i,t,r,n))),s}}function Gg(t,e,n,r){const i=e.get(q());n==null&&i!=null&&(n=Pr(i,q()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Lg(r,o),h=t.operationForChild(o);h&&(s=s.concat(Gg(h,l,a,u)))}),i&&(s=s.concat(Mc(i,t,r,n))),s}function Qg(t,e){const n=e.query,r=Wo(t,n);return{hashFn:()=>(cx(e)||z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?kx(t,n._path,r):Nx(t,n._path);{const s=Iw(i,n);return gu(t,n,null,s)}}}}function Wo(t,e){const n=hl(e);return t.queryToTagMap.get(n)}function hl(t){return t._path.toString()+"$"+t._queryIdentifier}function Lc(t,e){return t.tagToQueryMap.get(e)}function Fc(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function zc(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const i=Pc(t.pendingWriteTree_,e);return Mc(r,n,i,null)}function Rx(t){return t.fold((e,n,r)=>{if(n&&Tn(n))return[cl(n)];{let i=[];return n&&(i=Bg(n)),Je(r,(s,o)=>{i=i.concat(o)}),i}})}function Ii(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xx())(t._repo,t._path):t}function Px(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=hl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Dx(){return Sx++}function bx(t,e,n){const r=e._path,i=Wo(t,e),s=Qg(t,n),o=t.listenProvider_.startListening(Ii(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)N(!Tn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,h,d)=>{if(!G(u)&&h&&Tn(h))return[cl(h).query];{let c=[];return h&&(c=c.concat(Bg(h).map(y=>y.query))),Je(d,(y,v)=>{c=c.concat(v)}),c}});for(let u=0;u<a.length;++u){const h=a[u];t.listenProvider_.stopListening(Ii(h),Wo(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jc(n)}node(){return this.node_}}class Uc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ce(this.path_,e);return new Uc(this.syncTree_,n)}node(){return Oc(this.syncTree_,this.path_)}}const Ax=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},df=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Mx(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Ox(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Mx=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},Ox=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Lx=function(t,e,n,r){return Bc(e,new Uc(n,t),r)},Kg=function(t,e,n){return Bc(t,new jc(e),n)};function Bc(t,e,n){const r=t.getPriority().val(),i=df(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=df(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ee(l,De(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ee(i))),o.forEachChild(ye,(l,a)=>{const u=Bc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Hc(t,e){let n=e instanceof te?e:new te(e),r=t,i=$(n);for(;i!==null;){const s=zr(r.node.children,i)||{children:{},childCount:0};r=new Wc(i,r,s),n=ie(n),i=$(n)}return r}function Kr(t){return t.node.value}function Yg(t,e){t.node.value=e,yu(t)}function qg(t){return t.node.childCount>0}function Fx(t){return Kr(t)===void 0&&!qg(t)}function fl(t,e){Je(t.node.children,(n,r)=>{e(new Wc(n,t,r))})}function Xg(t,e,n,r){n&&!r&&e(t),fl(t,i=>{Xg(i,e,!0,r)}),n&&r&&e(t)}function zx(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hs(t){return new te(t.parent===null?t.name:hs(t.parent)+"/"+t.name)}function yu(t){t.parent!==null&&jx(t.parent,t.name,t)}function jx(t,e,n){const r=Fx(n),i=sn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=/[\[\].#$\/\u0000-\u001F\u007F]/,Bx=/[\[\].#$\u0000-\u001F\u007F]/,ia=10*1024*1024,Jg=function(t){return typeof t=="string"&&t.length!==0&&!Ux.test(t)},Zg=function(t){return typeof t=="string"&&t.length!==0&&!Bx.test(t)},Wx=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Zg(t)},Hx=function(t,e,n,r){r&&e===void 0||$c(yc(t,"value"),e,n)},$c=function(t,e,n){const r=n instanceof te?new oC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fn(r)+" with contents = "+e.toString());if(Zm(e))throw new Error(t+"contains "+e.toString()+" "+Fn(r));if(typeof e=="string"&&e.length>ia/3&&ll(e)>ia)throw new Error(t+"contains a string greater than "+ia+" utf8 bytes "+Fn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Je(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Jg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lC(r,o),$c(t,l,r),aC(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fn(r)+" in addition to actual children.")}},e0=function(t,e,n,r){if(!(r&&n===void 0)&&!Zg(n))throw new Error(yc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$x=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),e0(t,e,n,r)},Vx=function(t,e){if($(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Gx=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wx(n))throw new Error(yc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vc(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Sc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function t0(t,e,n){Vc(t,n),n0(t,r=>Sc(r,e))}function nn(t,e,n){Vc(t,n),n0(t,r=>Et(r,e)||Et(e,r))}function n0(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Kx(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Kx(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Vn&&Fe("event: "+n.toString()),Qr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="repo_interrupt",qx=25;class Xx{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oo(),this.transactionQueueTree_=new Wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jx(t,e,n){if(t.stats_=Cc(t.repoInfo_),t.forceRestClient_||Dw())t.server_=new Mo(t.repoInfo_,(r,i,s,o)=>{hf(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ff(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yt(t.repoInfo_,e,(r,i,s,o)=>{hf(t,r,i,s,o)},r=>{ff(t,r)},r=>{eS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Lw(t.repoInfo_,()=>new MC(t.stats_,t.server_)),t.infoData_=new RC,t.infoSyncTree_=new uf({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=dl(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Qc(t,"connected",!1),t.serverSyncTree_=new uf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);nn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Zx(t){const n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Gc(t){return Ax({timestamp:Zx(t)})}function hf(t,e,n,r,i){t.dataUpdateCount++;const s=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Io(n,u=>De(u));o=Tx(t.serverSyncTree_,s,a,i)}else{const a=De(n);o=Ix(t.serverSyncTree_,s,a,i)}else if(r){const a=Io(n,u=>De(u));o=Ex(t.serverSyncTree_,s,a)}else{const a=De(n);o=dl(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=pl(t,s)),nn(t.eventQueue_,l,o)}function ff(t,e){Qc(t,"connected",e),e===!1&&nS(t)}function eS(t,e){Je(e,(n,r)=>{Qc(t,n,r)})}function Qc(t,e,n){const r=new te("/.info/"+e),i=De(n);t.infoData_.updateSnapshot(r,i);const s=dl(t.infoSyncTree_,r,i);nn(t.eventQueue_,r,s)}function r0(t){return t.nextWriteId_++}function tS(t,e,n,r,i){Kc(t,"set",{path:e.toString(),value:n,priority:r});const s=Gc(t),o=De(n,r),l=Oc(t.serverSyncTree_,e),a=Kg(o,l,s),u=r0(t),h=$g(t.serverSyncTree_,e,a,u,!0);Vc(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(c,y)=>{const v=c==="ok";v||Xe("set at "+e+" failed: "+c);const x=Wn(t.serverSyncTree_,u,!v);nn(t.eventQueue_,e,x),sS(t,i,c,y)});const d=a0(t,e);pl(t,d),nn(t.eventQueue_,d,[])}function nS(t){Kc(t,"onDisconnectEvents");const e=Gc(t),n=Oo();cu(t.onDisconnect_,q(),(i,s)=>{const o=Lx(i,s,t.serverSyncTree_,e);Pg(n,i,o)});let r=[];cu(n,q(),(i,s)=>{r=r.concat(dl(t.serverSyncTree_,i,s));const o=a0(t,i);pl(t,o)}),t.onDisconnect_=Oo(),nn(t.eventQueue_,q(),r)}function rS(t,e,n){let r;$(e._path)===".info"?r=cf(t.infoSyncTree_,e,n):r=cf(t.serverSyncTree_,e,n),t0(t.eventQueue_,e._path,r)}function _u(t,e,n){let r;$(e._path)===".info"?r=gu(t.infoSyncTree_,e,n):r=gu(t.serverSyncTree_,e,n),t0(t.eventQueue_,e._path,r)}function iS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Yx)}function Kc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function sS(t,e,n,r){e&&Qr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function i0(t,e,n){return Oc(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Yc(t,e=t.transactionQueueTree_){if(e||ml(t,e),Kr(e)){const n=o0(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&oS(t,hs(e),n)}else qg(e)&&fl(e,n=>{Yc(t,n)})}function oS(t,e,n){const r=n.map(u=>u.currentWriteId),i=i0(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];N(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Ge(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Kc(t,"transaction put response",{path:a.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(Wn(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&d.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();ml(t,Hc(t.transactionQueueTree_,e)),Yc(t,t.transactionQueueTree_),nn(t.eventQueue_,e,h);for(let c=0;c<d.length;c++)Qr(d[c])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Xe("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}pl(t,e)}},o)}function pl(t,e){const n=s0(t,e),r=hs(n),i=o0(t,n);return lS(t,i,r),r}function lS(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Ge(n,a.path);let h=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,d=a.abortReason,i=i.concat(Wn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=qx)h=!0,d="maxretry",i=i.concat(Wn(t.serverSyncTree_,a.currentWriteId,!0));else{const c=i0(t,a.path,o);a.currentInputSnapshot=c;const y=e[l].update(c.val());if(y!==void 0){$c("transaction failed: Data returned ",y,a.path);let v=De(y);typeof y=="object"&&y!=null&&sn(y,".priority")||(v=v.updatePriority(c.getPriority()));const O=a.currentWriteId,g=Gc(t),f=Kg(v,c,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=f,a.currentWriteId=r0(t),o.splice(o.indexOf(O),1),i=i.concat($g(t.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(Wn(t.serverSyncTree_,O,!0))}else h=!0,d="nodata",i=i.concat(Wn(t.serverSyncTree_,a.currentWriteId,!0))}nn(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}ml(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Qr(r[l]);Yc(t,t.transactionQueueTree_)}function s0(t,e){let n,r=t.transactionQueueTree_;for(n=$(e);n!==null&&Kr(r)===void 0;)r=Hc(r,n),e=ie(e),n=$(e);return r}function o0(t,e){const n=[];return l0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function l0(t,e,n){const r=Kr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fl(e,i=>{l0(t,i,n)})}function ml(t,e){const n=Kr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Yg(e,n.length>0?n:void 0)}fl(e,r=>{ml(t,r)})}function a0(t,e){const n=hs(s0(t,e)),r=Hc(t.transactionQueueTree_,e);return zx(r,i=>{sa(t,i)}),sa(t,r),Xg(r,i=>{sa(t,i)}),n}function sa(t,e){const n=Kr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Wn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Yg(e,void 0):n.length=s+1,nn(t.eventQueue_,hs(e),i);for(let o=0;o<r.length;o++)Qr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function uS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xe(`Invalid query segment '${n}' in query '${t}'`)}return e}const pf=function(t,e){const n=cS(t),r=n.namespace;n.domain==="firebase.com"&&tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new te(n.pathString)}},cS=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=aS(t.substring(h,d)));const c=uS(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in c&&(s=c.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ie(this.snapshot.exportVal())}}class c0{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return G(this._path)?null:wg(this._path)}get ref(){return new on(this._repo,this._path)}get _queryIdentifier(){const e=Xh(this._queryParams),n=vc(e);return n==="{}"?"default":n}get _queryObject(){return Xh(this._queryParams)}isEqual(e){if(e=ls(e),!(e instanceof qc))return!1;const n=this._repo===e._repo,r=Sc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+sC(this._path)}}class on extends qc{constructor(e,n){super(e,n,new Ic,!1)}get parent(){const e=xg(this._path);return e===null?null:new on(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class es{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new te(e),r=Ho(this.ref,e);return new es(this._node.getChild(n),r,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new es(i,Ho(this.ref,r),ye)))}hasChild(e){const n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function mf(t,e){return t=ls(t),t._checkNotDeleted("ref"),e!==void 0?Ho(t._root,e):t._root}function Ho(t,e){return t=ls(t),$(t._path)===null?$x("child","path",e,!1):e0("child","path",e,!1),new on(t._repo,Ce(t._path,e))}function dS(t,e){t=ls(t),Vx("set",t._path),Hx("set",e,t._path,!1);const n=new ol;return tS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class gl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new u0("value",this,new es(e.snapshotNode,new on(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c0(this,e,n):null}matches(e){return e instanceof gl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class yl{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new c0(this,e,n):null}createEvent(e,n){N(e.childName!=null,"Child events should have a childName.");const r=Ho(new on(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new u0(e.type,this,new es(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof yl?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function hS(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(h,d)=>{_u(t._repo,t,l),a(h,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new d0(n,s||void 0),l=e==="value"?new gl(o):new yl(e,o);return rS(t._repo,t,l),()=>_u(t._repo,t,l)}function fS(t,e,n,r){return hS(t,"value",e,n,r)}function pS(t,e,n){let r=null;const i=n?new d0(n):null;e==="value"?r=new gl(i):e&&(r=new yl(e,i)),_u(t._repo,t,r)}mx(on);Cx(on);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FIREBASE_DATABASE_EMULATOR_HOST",vu={};let gS=!1;function yS(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=gc(s);t.repoInfo_=new dg(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function _S(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=pf(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[mS]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=pf(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const h=i&&a?new Tr(Tr.OWNER):new Aw(t.name,t.options,e);Gx("Invalid Firebase Database URL",o),G(o.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=wS(l,t,h,new bw(t,n));return new CS(d,t)}function vS(t,e){const n=vu[e];(!n||n[t.key]!==t)&&tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),iS(t),delete n[t.key]}function wS(t,e,n,r){let i=vu[e.name];i||(i={},vu[e.name]=i);let s=i[t.toURLString()];return s&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Xx(t,gS,n,r),i[t.toURLString()]=s,s}class CS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jx(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new on(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tn("Cannot call "+e+" on a deleted database.")}}function xS(t=ow(),e){const n=tw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Bv("database");r&&SS(n,...r)}return n}function SS(t,e,n,r={}){t=ls(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&To(r,s.repoInfo_.emulatorOptions))return;tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Tr(Tr.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:Hv(r.mockUserToken,t.app.options.projectId);o=new Tr(l)}gc(e)&&(Wv(e),Gv("Database",!0)),yS(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){yw(sw),Po(new Gi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return _S(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),kr(Mh,Oh,t),kr(Mh,Oh,"esm2020")}Yt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ES();var NS="firebase",kS="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(NS,kS,"app");const IS={apiKey:"AIzaSyBNQmI2IzVAsEiQO1XOB7LQzFWGFbr-bPg",authDomain:"scorix-46bd1.firebaseapp.com",projectId:"scorix-46bd1",databaseURL:"https://scorix-46bd1-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"scorix-46bd1.firebasestorage.app",messagingSenderId:"46571770435",appId:"1:46571770435:web:0c8264485212c927833af6",measurementId:"G-X4658CX56T"},TS=Qm(IS),gf=xS(TS),RS=["","","",""],PS=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],yf=()=>{const t=[];return RS.forEach((e,n)=>{PS.forEach((r,i)=>{t.push({value:r,suit:e,numeric:i+2,suitRank:n})})}),t.push({value:"JOKER",suit:"",numeric:1,suitRank:-1}),t},_f=()=>Math.random().toString(36).substring(2,10)+Date.now().toString(36),DS=({players:t,onSubmit:e,disabled:n=!1,playerCards:r={},getPlayerTotal:i=()=>0,rejoinCounts:s={}})=>{const[o,l]=L.useState({}),a=()=>{e(o),l({})};if(n||t.length<=1)return null;const u=d=>{const c=r[d];if(!c)return"";const y=c.suit===""||c.suit===""?"text-red-500":"text-gray-800";return _("span",{className:`${y} font-bold`,children:[c.value,c.suit]})},h=d=>{const c=s[d];return c?_("span",{className:"ml-1 px-1.5 py-0.5 bg-emerald-500 text-white text-xs rounded-full flex items-center",children:["",c]}):null};return _("div",{className:"mb-6 bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-xl border border-indigo-100 shadow-sm",children:[_("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[p(eo,{className:"w-5 h-5 text-indigo-600"}),"Enter Scores"]}),p("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mb-4",children:t.map(d=>_("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:[_("label",{className:"block text-sm font-medium mb-2 flex items-center flex-wrap",children:[p("span",{className:"text-indigo-700 font-medium",children:d}),u(d)&&p("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 rounded-md text-xs",children:u(d)}),p("span",{className:"ml-2 px-2 py-0.5 bg-amber-100 text-amber-800 rounded-md text-xs font-bold",children:i(d)}),h(d)]}),p("input",{type:"number",value:o[d]||"",onChange:c=>l({...o,[d]:Number(c.target.value)||0}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0"})]},d))}),_("button",{onClick:a,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center gap-2 font-medium",children:[p(Za,{className:"w-5 h-5"}),"Add Scores"]})]})},vf=({players:t,scores:e,maxScore:n,getPlayerTotal:r,readonly:i=!1,onEditScore:s,editedRows:o=[],rejoinCounts:l={}})=>{const[a,u]=L.useState(null),[h,d]=L.useState({}),c=f=>{u(f),d(e[f])},y=()=>{s(a,h),u(null),d({})},v=()=>{u(null),d({})},x=f=>{const m=l[f];return m?_("span",{className:"text-[8px] text-emerald-600 font-bold ml-0.5",children:["",m]}):null},O=f=>{const m=r(f);return m>=n-24?"text-red-600 font-bold":m>=n-48&&m<n-24?"text-orange-500 font-bold":"text-gray-700"},g=f=>f>=n?"bg-red-100 text-red-700":f>=n-24?"text-red-600 font-bold":f>=n-48&&f<n-24?"text-orange-500 font-bold":"text-gray-800";return p("div",{className:"overflow-x-auto rounded-xl border border-gray-200 shadow-sm",children:_("table",{className:"w-full",children:[p("thead",{children:_("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-200",children:[t.map((f,m)=>p("th",{className:"p-0.5 text-center relative",style:{minWidth:"36px"},children:p("div",{className:"h-20 flex items-center justify-center",children:_("div",{className:"flex items-start gap-0.5",style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)"},children:[p("span",{className:`text-[11px] font-medium whitespace-nowrap ${O(f)}`,children:f}),x(f)]})})},f)),!i&&p("th",{className:"p-0.5 text-center text-gray-700",style:{minWidth:"45px"},children:p("div",{className:"h-20 flex items-center justify-center",children:p("span",{className:"text-[10px] font-medium",children:"Edit"})})})]})}),_("tbody",{children:[e.map((f,m)=>_("tr",{className:`${o.includes(m)?"bg-amber-50":"hover:bg-gray-50"} border-b border-gray-100`,children:[t.map(C=>p("td",{className:"p-0.5 text-center",style:{minWidth:"36px"},children:a===m?p("input",{type:"number",value:h[C]||0,onChange:k=>d({...h,[C]:Number(k.target.value)||0}),className:"w-full px-0.5 py-0.5 border border-gray-300 rounded text-center text-xs focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",style:{minWidth:"32px"}}):p("span",{className:"font-medium text-sm",children:f[C]||0})},C)),!i&&p("td",{className:"p-0.5 text-center",style:{minWidth:"45px"},children:a===m?_("div",{className:"flex gap-0.5 justify-center flex-col items-center",children:[p("button",{onClick:y,className:"bg-green-500 text-white px-1.5 py-0.5 rounded text-[10px] hover:bg-green-600 transition-colors w-full",children:""}),p("button",{onClick:v,className:"bg-gray-500 text-white px-1.5 py-0.5 rounded text-[10px] hover:bg-gray-600 transition-colors w-full",children:""})]}):p("button",{onClick:()=>c(m),className:"bg-indigo-500 text-white px-1.5 py-0.5 rounded text-[10px] hover:bg-indigo-600 transition-colors",children:""})})]},m)),_("tr",{className:"bg-gradient-to-r from-amber-50 to-amber-100 font-bold",children:[t.map(f=>{const m=r(f),C=m>=n;return p("td",{className:`p-0.5 text-center text-sm ${g(m)}`,style:{minWidth:"36px"},children:_("div",{className:"flex items-center justify-center gap-0.5",children:[m,C&&p(fi,{className:"w-3 h-3"})]})},f)}),!i&&p("td",{className:"p-0.5",style:{minWidth:"45px"}})]})]})]})})},bS=()=>{const[t,e]=L.useState("setup"),[n,r]=L.useState([]),[i,s]=L.useState(""),[o,l]=L.useState(201),[a,u]=L.useState([]),[h,d]=L.useState(0),[c,y]=L.useState(!0),[v,x]=L.useState([]),[O,g]=L.useState(0),[f,m]=L.useState([]),[C,k]=L.useState([]),[A,P]=L.useState([]),[D,ue]=L.useState(0),[H,He]=L.useState([]),[bn,pt]=L.useState(!1),[Z,Ut]=L.useState([]),[lt,Pt]=L.useState(""),[T,j]=L.useState({}),[U,ne]=L.useState([]),[X,Dt]=L.useState(""),[mt,ir]=L.useState(!1),[Bt,Wt]=L.useState(!1),[Yr,fs]=L.useState([]),[ps,ms]=L.useState({}),[bt,gs]=L.useState({}),[gt,ys]=L.useState(0);L.useState(24);const[_l,_s]=L.useState(!1),[Re,Xc]=L.useState(null),[vs,vl]=L.useState(null),[ws,qr]=L.useState(!1),[Jc,Zc]=L.useState(!1),[At,ed]=L.useState({start:"",end:""}),[An,wl]=L.useState([]);L.useEffect(()=>{const E=new URLSearchParams(window.location.search).get("game");if(E)Dt(E),ir(!0),e("readonly"),f0(E);else{const M=localStorage.getItem("rummyGame");if(M)try{const I=JSON.parse(M);if(I.gameState==="drawing"){localStorage.removeItem("rummyGame");return}r(I.players||[]),Ut(I.allGamePlayers||[]),u(I.scores||[]),d(I.currentRound||0),l(I.maxScore||201),Pt(I.currentDealerName||""),j(I.playerCards||{}),ne(I.editedRows||[]),Dt(I.gameId||""),fs(I.permanentlyEliminated||[]),ms(I.eliminationRounds||{}),gs(I.rejoinCounts||{}),ys(I.entryFee||0),I.gameState&&I.gameState!=="setup"&&e(I.gameState)}catch(I){console.error("Error loading from localStorage:",I),localStorage.removeItem("rummyGame")}}},[]),L.useEffect(()=>{if(_l&&X){const E=JSON.parse(localStorage.getItem("splitRecords")||"[]").some(M=>M.gameId===X);qr(E)}},[_l,X]),L.useEffect(()=>{if(!mt&&t!=="setup"&&X){const w={players:n,allGamePlayers:Z,scores:a,currentRound:h,maxScore:o,currentDealerName:lt,playerCards:T,editedRows:U,gameId:X,gameState:t,permanentlyEliminated:Yr,eliminationRounds:ps,rejoinCounts:bt,entryFee:gt,timestamp:Date.now()};localStorage.setItem("rummyGame",JSON.stringify(w)),h0(w)}},[n,Z,a,h,o,lt,T,U,X,t,mt,Yr,ps,bt,gt]);const h0=w=>{try{const E=mf(gf,`games/${X}`);dS(E,w).catch(M=>{console.error("Error saving to Firebase:",M)})}catch(E){console.error("Firebase save error:",E)}},f0=w=>{try{const E=mf(gf,`games/${w}`);return fS(E,M=>{const I=M.val();I?(r(I.players||[]),Ut(I.allGamePlayers||[]),u(I.scores||[]),d(I.currentRound||0),l(I.maxScore||201),Pt(I.currentDealerName||""),j(I.playerCards||{}),ne(I.editedRows||[]),gs(I.rejoinCounts||{}),ys(I.entryFee||0)):alert("Game not found.")},M=>{console.error("Error loading from Firebase:",M),alert("Could not load game.")}),()=>pS(E)}catch(E){console.error("Firebase load error:",E)}},p0=()=>{if(!Re||ws)return;const w=JSON.parse(localStorage.getItem("splitRecords")||"[]");if(w.some(B=>B.gameId===X)){qr(!0);return}const M=prompt('Type "settle" to confirm recording this split:');if(M===null||M.trim().toLowerCase()!=="settle")return;const I={gameId:X,timestamp:Date.now(),date:new Date().toISOString(),players:Z,activePlayers:_t(),entryFee:gt,splitData:Re,totalPot:Re.totalPot,playerPayouts:Re.playerPayouts,rejoinCounts:bt};w.push(I),localStorage.setItem("splitRecords",JSON.stringify(w)),qr(!0),alert(" Split record saved successfully!")},td=()=>JSON.parse(localStorage.getItem("splitRecords")||"[]"),m0=()=>{const w=td();return!At.start&&!At.end?w:w.filter(E=>{const M=new Date(E.timestamp),I=At.start?new Date(At.start+"T00:00:00"):null,B=At.end?new Date(At.end+"T23:59:59"):null;return!(I&&M<I||B&&M>B)})},g0=()=>{const w=td().filter(W=>An.includes(W.gameId));if(w.length===0)return alert("Please select at least one game for settlement"),null;const E={};w.forEach(W=>{W.players.forEach(F=>{E[F]||(E[F]={paid:0,received:0,games:0});const J=1+(W.rejoinCounts&&W.rejoinCounts[F]?W.rejoinCounts[F]:0);E[F].paid+=W.entryFee*J,E[F].games+=1}),W.playerPayouts&&W.playerPayouts.forEach(F=>{E[F.player]||(E[F.player]={paid:0,received:0,games:0}),E[F.player].received+=F.totalPayout})});const M=Object.keys(E).map(W=>({player:W,paid:E[W].paid,received:E[W].received,net:E[W].received-E[W].paid,games:E[W].games})).sort((W,F)=>F.net-W.net),I=M.filter(W=>W.net>.01),B=M.filter(W=>W.net<-.01),b=[];let ce=I.map(W=>({...W,remaining:W.net})),Se=B.map(W=>({...W,remaining:Math.abs(W.net)}));for(;ce.length>0&&Se.length>0;){const W=ce[0],F=Se[0],he=Math.min(W.remaining,F.remaining);b.push({from:F.player,to:W.player,amount:he}),W.remaining-=he,F.remaining-=he,W.remaining<.01&&ce.shift(),F.remaining<.01&&Se.shift()}return{playerNets:M,transactions:b,totalGames:w.length,totalPot:w.reduce((W,F)=>W+F.totalPot,0)}},nd=()=>{const w=m0(),[E,M]=L.useState(null),I=b=>{An.includes(b)?wl(An.filter(ce=>ce!==b)):wl([...An,b]),M(null)},B=()=>{const b=g0();M(b)};return p("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 overflow-y-auto",children:_("div",{className:"bg-white rounded-2xl p-5 sm:p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[_("div",{className:"flex justify-between items-center mb-4",children:[_("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[p(vh,{className:"w-7 h-7 text-green-600"}),"Settlement Calculator"]}),p("button",{onClick:()=>{Zc(!1),wl([]),M(null)},className:"text-gray-500 hover:text-gray-700",children:p(fi,{className:"w-6 h-6"})})]}),_("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-200",children:[_("h3",{className:"font-bold text-lg mb-3 text-blue-800 flex items-center gap-2",children:[p(pv,{className:"w-5 h-5"}),"Filter by Date Range"]}),_("div",{className:"grid grid-cols-2 gap-3",children:[_("div",{children:[p("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),p("input",{type:"date",value:At.start,onChange:b=>ed({...At,start:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),_("div",{children:[p("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),p("input",{type:"date",value:At.end,onChange:b=>ed({...At,end:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),_("div",{className:"mb-6",children:[_("h3",{className:"font-bold text-lg mb-3 text-gray-800 flex items-center gap-2",children:[p(wh,{className:"w-5 h-5"}),"Select Games (",An.length," selected)"]}),p("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-xl p-3",children:w.length===0?p("p",{className:"text-gray-500 text-center py-4",children:"No recorded games found"}):w.map(b=>_("label",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer border border-gray-100",children:[p("input",{type:"checkbox",checked:An.includes(b.gameId),onChange:()=>I(b.gameId),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),_("div",{className:"flex-1",children:[_("div",{className:"font-medium text-gray-800",children:[new Date(b.date).toLocaleDateString()," - ",new Date(b.date).toLocaleTimeString()]}),_("div",{className:"text-sm text-gray-600",children:["Players: ",b.players.join(", "),"  Entry: ",b.entryFee,"  Pot: ",b.totalPot]})]}),_("div",{className:"text-right",children:[p("div",{className:"text-sm text-gray-500",children:"Game ID"}),_("div",{className:"text-xs text-gray-400 font-mono",children:[b.gameId.substring(0,8),"..."]})]})]},b.gameId))})]}),_("button",{onClick:B,disabled:An.length===0,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium mb-6",children:[p(vh,{className:"w-5 h-5"}),"Calculate Settlement"]}),E&&_("div",{className:"space-y-6",children:[_("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[p("h3",{className:"font-bold text-lg mb-3 text-green-800",children:"Summary"}),_("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Total Games:"}),p("span",{className:"font-bold text-gray-800 ml-2",children:E.totalGames})]}),_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Total Pot:"}),_("span",{className:"font-bold text-green-600 ml-2",children:["",E.totalPot.toFixed(2)]})]})]})]}),_("div",{children:[p("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:"Player Balances"}),p("div",{className:"space-y-2",children:E.playerNets.map(b=>_("div",{className:`p-3 rounded-lg border ${b.net>0?"bg-green-50 border-green-200":b.net<0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[_("div",{className:"flex justify-between items-center",children:[p("span",{className:"font-medium text-gray-800",children:b.player}),_("span",{className:`font-bold ${b.net>0?"text-green-600":b.net<0?"text-red-600":"text-gray-600"}`,children:[b.net>0?"+":"","",b.net.toFixed(2)]})]}),_("div",{className:"text-xs text-gray-600 mt-1",children:["Paid: ",b.paid.toFixed(2),"  Received: ",b.received.toFixed(2),"  Games: ",b.games]})]},b.player))})]}),_("div",{children:[_("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:["Optimized Transactions (",E.transactions.length,")"]}),p("div",{className:"space-y-2",children:E.transactions.map((b,ce)=>p("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:_("div",{className:"flex items-center justify-between",children:[_("div",{className:"flex items-center gap-3",children:[p("span",{className:"font-medium text-gray-800",children:b.from}),p("span",{className:"text-gray-500",children:""}),p("span",{className:"font-medium text-gray-800",children:b.to})]}),_("span",{className:"font-bold text-green-600",children:["",b.amount.toFixed(2)]})]})},ce))})]})]})]})})},rd=()=>{i.trim()&&!n.includes(i.trim())&&(r([...n,i.trim()]),s(""))},y0=w=>{r(n.filter(E=>E!==w))},_0=(w,E)=>{vl(E),w.dataTransfer.effectAllowed="move"},v0=w=>{w.preventDefault(),w.dataTransfer.dropEffect="move"},w0=(w,E)=>{if(w.preventDefault(),vs===E)return;const M=n.indexOf(vs),I=n.indexOf(E),B=[...n];B.splice(M,1),B.splice(I,0,vs),r(B),vl(null)},C0=()=>{vl(null)},x0=()=>{if(n.length<2){alert("Need at least 2 players!");return}const w=_f();Dt(w),Ut([...n]),Pt(n[n.length-1]);const E={};n.forEach(M=>{E[M]={value:"-",suit:"",numeric:0,suitRank:0}}),j(E),e("playing")},S0=()=>{if(n.length<2){alert("Need at least 2 players!");return}const w=_f();Dt(w),m(yf().sort(()=>Math.random()-.5)),x([]),g(0),e("drawing")},E0=()=>{if(O<n.length&&f.length>0){const w=f[0],E=[...v,{player:n[O],card:w}];if(x(E),m(f.slice(1)),g(O+1),O+1===n.length){const M=[...E].sort((b,ce)=>b.card.numeric!==ce.card.numeric?ce.card.numeric-b.card.numeric:b.card.suitRank-ce.card.suitRank),I=M.map(b=>b.player),B={};M.forEach(b=>{B[b.player]=b.card}),j(B),r(I),Ut(I),Pt(I[I.length-1]),setTimeout(()=>e("playing"),2e3)}}},N0=()=>{const w=prompt('Type "rummy" to confirm starting a new game:');if(w===null||w.trim().toLowerCase()!=="rummy")return;localStorage.removeItem("rummyGame");const E=Z.length>0?[...Z]:[];r(E),Ut([]),u([]),d(0),e("setup"),x([]),Pt(""),j({}),ne([]),Dt(""),ir(!1),fs([]),ms({}),gs({}),pt(!1),k([]),P([]),Wt(!1),ys(0),_s(!1),Xc(null),qr(!1)},k0=w=>{const E=[...a,w];u(E);const M=Z.indexOf(lt),I=[],B=[];Z.forEach(F=>{const he=E.reduce((J,Y)=>J+(Y[F]||0),0);he>=o&&n.includes(F)?I.push(F):he<o&&B.push(F)});const b={...ps};I.forEach(F=>{b[F]||(b[F]=h)}),ms(b);const ce=[...Yr];Object.keys(b).forEach(F=>{const he=b[F];h-he>=1&&!B.includes(F)&&!ce.includes(F)&&ce.push(F)}),fs(ce);let Se=lt;if(B.includes(lt)){let F=(M+1)%Z.length,he=Z[F];if(B.includes(he))Se=he;else{let Y=(F+1)%Z.length,Ze=0;for(;Ze<Z.length;){const Mt=Z[Y];if(B.includes(Mt)){Se=Mt;break}Y=(Y+1)%Z.length,Ze++}}}else{let F=(M+1)%Z.length,he=0;for(;he<Z.length;){const J=Z[F];if(B.includes(J)){Se=J;break}F=(F+1)%Z.length,he++}}if(Pt(Se),I.length>0){const he=[...Z.filter(J=>!n.includes(J)),...I,...B];Ut(he),r(B)}else{const F=Z.filter(he=>E.reduce((Y,Ze)=>Y+(Ze[he]||0),0)<o);r(F)}d(h+1)},I0=(w,E)=>{const M=[...a];M[w]=E,u(M),U.includes(w)||ne([...U,w]);const I=Z.filter(B=>M.reduce((ce,Se)=>ce+(Se[B]||0),0)<o);r(I)},Cl=()=>lt,yt=w=>a.reduce((E,M)=>E+(M[w]||0),0),_t=()=>n.filter(w=>yt(w)<o),id=()=>{if(a.length===0)return 0;const w=_t().map(E=>yt(E));return w.length>0?Math.max(...w):0},sd=()=>Z.filter(w=>yt(w)>=o&&!Yr.includes(w)),T0=()=>{const w=_t(),E=sd(),M=w.some(I=>yt(I)>=o-25);return w.length>=2&&E.length>0&&!M},R0=()=>{pt(!0),k([]),P([]),Wt(!1)},P0=w=>{C.includes(w)?k(C.filter(E=>E!==w)):k([...C,w])},D0=()=>{if(C.length===0){alert("Add at least one player to rejoin!");return}const w=yf().sort(()=>Math.random()-.5);He(w),P([]),ue(0),Wt(!0)},b0=()=>{if(D<C.length&&H.length>0){const w=H[0],E=[...A,{player:C[D],card:w}];if(P(E),He(H.slice(1)),ue(D+1),D+1===C.length){const M=[...E].sort((I,B)=>I.card.numeric!==B.card.numeric?B.card.numeric-I.card.numeric:I.card.suitRank-B.card.suitRank);setTimeout(()=>{od(M.map(I=>I.player))},2e3)}}},od=w=>{const E=id(),M=Cl(),I=n.indexOf(M),B=[...n];B.splice(I,0,...w),r(B);const b={...bt};w.forEach(Y=>{b[Y]=(b[Y]||0)+1}),gs(b);const ce=Yr.filter(Y=>!w.includes(Y));fs(ce);const Se={...ps};w.forEach(Y=>{delete Se[Y]}),ms(Se);const he=[...Z.filter(Y=>!n.includes(Y)).filter(Y=>!w.includes(Y)),...B];Ut(he);const J=a.map((Y,Ze)=>{const Mt={...Y};return w.forEach(Cs=>{Ze===a.length-1?Mt[Cs]=E+1:Mt[Cs]=0}),Mt});u(J),pt(!1),k([]),P([]),Wt(!1)},A0=()=>{if(!X){alert("Game ID not generated yet. Start playing first!");return}const w=`${window.location.origin}${window.location.pathname}?game=${X}`;navigator.clipboard.writeText(w),alert(` Share link copied!
 Others can view scores in read-only mode.
 Enable Firebase for real-time sync.`)},ld=()=>{const w=_t();if(w.length<2){alert("Need at least 2 active players to split the prize.");return}if(gt<=0){alert("Entry fee must be set to calculate prize split.");return}const E=24,M={};w.forEach(J=>{const Y=yt(J),Ze=o-Y,Mt=Math.floor(Ze/E);M[J]=Mt});const I=Math.min(...Object.values(M));let B=0,b=0;Z.forEach(J=>{const Y=1+(bt[J]||0);B+=gt*Y,b+=Y});let ce=0;const Se={};for(const J of w){const Y=M[J]-I;if(Y>0){const Ze=Y*gt;Se[J]=Ze,ce+=Ze}else Se[J]=0}if(ce>B){alert(" Error: Excess payout exceeds total pot. Please verify calculations.");return}const W=B-ce,F=W/w.length,he=w.map(J=>{const Y=yt(J),Ze=o-Y,Mt=M[J]-I,Cs=Se[J]+F,M0=1+(bt[J]||0);return{player:J,currentScore:Y,remainingPoints:Ze,dropsLeft:M[J],excess:Mt,excessPayout:Se[J],equalShare:F,totalPayout:Cs,entryCount:M0,rejoinCount:bt[J]||0}});Xc({totalPlayers:Z.length,entryFee:gt,totalPot:B,dropValue:E,maxScore:o,minDrops:I,excessPayout:ce,remainingPot:W,equalShare:F,playerPayouts:he,totalEntries:b}),_s(!0),qr(!1)},ad=()=>!_l||!Re?null:p("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:_("div",{className:"bg-white rounded-2xl p-5 sm:p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[_("div",{className:"flex justify-between items-center mb-4",children:[p("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:" Prize Split Calculation"}),p("button",{onClick:()=>_s(!1),className:"text-gray-500 hover:text-gray-700",children:p(fi,{className:"w-6 h-6"})})]}),_("div",{className:"mb-6 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl border border-indigo-200",children:[p("h3",{className:"font-bold text-lg mb-3 text-indigo-800",children:" Pool Details"}),_("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Total Players:"}),p("span",{className:"font-bold text-gray-800 ml-2",children:Re.totalPlayers})]}),_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Entry Fee:"}),_("span",{className:"font-bold text-green-600 ml-2",children:["",Re.entryFee]})]}),_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Total Entries Paid:"}),p("span",{className:"font-bold text-blue-600 ml-2",children:Re.totalEntries})]}),_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Total Prize Pool:"}),_("span",{className:"font-bold text-green-600 ml-2",children:["",Re.totalPot]})]}),_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Drop Value:"}),_("span",{className:"font-bold text-gray-800 ml-2",children:[Re.dropValue," pts"]})]}),_("div",{className:"bg-white p-3 rounded-lg",children:[p("span",{className:"text-gray-600",children:"Max Score:"}),p("span",{className:"font-bold text-gray-800 ml-2",children:Re.maxScore})]}),_("div",{className:"bg-white p-3 rounded-lg col-span-2",children:[p("span",{className:"text-gray-600",children:"Minimum Drops:"}),p("span",{className:"font-bold text-amber-600 ml-2",children:Re.minDrops})]})]})]}),_("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:[p("h3",{className:"font-bold text-lg mb-3 text-amber-800",children:" Split Summary"}),_("div",{className:"space-y-2 text-sm",children:[_("div",{className:"flex justify-between p-2 bg-white rounded-lg",children:[p("span",{className:"text-gray-600",children:"Excess Drops Payout:"}),_("span",{className:"font-bold text-orange-600",children:["",Re.excessPayout.toFixed(2)]})]}),_("div",{className:"flex justify-between p-2 bg-white rounded-lg",children:[p("span",{className:"text-gray-600",children:"Remaining Pool to Split:"}),_("span",{className:"font-bold text-green-600",children:["",Re.remainingPot.toFixed(2)]})]}),_("div",{className:"flex justify-between p-2 bg-white rounded-lg",children:[p("span",{className:"text-gray-600",children:"Equal Share (per player):"}),_("span",{className:"font-bold text-blue-600",children:["",Re.equalShare.toFixed(2)]})]})]})]}),_("div",{className:"mb-4",children:[p("h3",{className:"font-bold text-lg mb-3 text-gray-800",children:" Individual Payouts"}),p("div",{className:"space-y-3",children:Re.playerPayouts.map((w,E)=>_("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[_("div",{className:"flex justify-between items-center mb-3",children:[p("h4",{className:"font-bold text-lg text-indigo-700",children:w.player}),_("div",{className:"text-right",children:[_("div",{className:"text-2xl font-bold text-green-600",children:["",w.totalPayout.toFixed(2)]}),p("div",{className:"text-xs text-gray-500",children:"Total Payout"})]})]}),_("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs",children:[_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Current Score"}),p("div",{className:"font-bold text-gray-800",children:w.currentScore})]}),_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Remaining Points"}),p("div",{className:"font-bold text-gray-800",children:w.remainingPoints})]}),_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Drops Left"}),p("div",{className:"font-bold text-amber-600",children:w.dropsLeft})]}),_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Rejoins"}),p("div",{className:"font-bold text-purple-600",children:w.rejoinCount})]}),_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Entry Fees Paid"}),_("div",{className:"font-bold text-green-600",children:[w.entryCount," ",Re.entryFee]})]}),_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Excess Drops"}),p("div",{className:"font-bold text-orange-600",children:w.excess})]}),_("div",{className:"bg-white p-2 rounded",children:[p("div",{className:"text-gray-500",children:"Excess Payout"}),_("div",{className:"font-bold text-orange-600",children:["",w.excessPayout.toFixed(2)]})]}),_("div",{className:"bg-white p-2 rounded col-span-2",children:[p("div",{className:"text-gray-500",children:"Equal Share"}),_("div",{className:"font-bold text-blue-600",children:["",w.equalShare.toFixed(2)]})]})]})]},E))})]}),_("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 gap-3",children:[p("button",{onClick:p0,disabled:ws,className:`flex-1 ${ws?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"} text-white px-6 py-3 rounded-xl flex items-center justify-center gap-2 font-medium`,children:ws?_(Ss,{children:[p(Kl,{className:"w-5 h-5"}),"Recorded"]}):_(Ss,{children:[p(Ev,{className:"w-5 h-5"}),"Record Split"]})}),p("button",{onClick:()=>_s(!1),className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-indigo-700 hover:to-purple-700",children:"Close"})]})]})});return mt?_("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 p-2 sm:p-4",children:[p("div",{className:"max-w-4xl mx-auto",children:_("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6",children:[_("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[_("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-800 flex items-center gap-2",children:[p(eo,{className:"w-7 h-7 text-amber-500"}),"Scorix - Viewer"]}),gt>0&&n.filter(w=>a.reduce((M,I)=>M+(I[w]||0),0)<o).length>=2&&_("button",{onClick:ld,className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white px-4 py-2 rounded-xl hover:from-amber-600 hover:to-orange-700 flex items-center gap-2 shadow-md",title:"View prize split calculation",children:[" ",p("span",{children:"Split"})]})]}),lt&&p("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl border border-amber-200",children:_("p",{className:"text-lg",children:[p("strong",{children:"Current Dealer:"})," ",lt]})}),p(vf,{players:Z,scores:a,maxScore:o,getPlayerTotal:yt,readonly:!0,editedRows:U,rejoinCounts:bt})]})}),p(ad,{})]}):t==="setup"?_("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 p-2 sm:p-4",children:[p("div",{className:"max-w-2xl mx-auto",children:_("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6",children:[_("div",{className:"text-center mb-6",children:[p("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-4",children:p(xh,{className:"w-8 h-8 text-white"})}),p("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Scorix"}),p("p",{className:"text-gray-600 mt-2",children:"Rummy Score Tracker"})]}),_("div",{className:"mb-6",children:[p("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Score"}),_("div",{className:"relative",children:[p("input",{type:"number",value:o,onChange:w=>l(Number(w.target.value)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),p("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:p("span",{className:"text-gray-500",children:"points"})})]})]}),_("div",{className:"mb-6",children:[p("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Fee ()"}),p("input",{type:"number",value:gt,onChange:w=>ys(Math.max(0,Number(w.target.value))),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g. 100",min:"0"}),p("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set entry fee for prize pool calculation"})]}),_("div",{className:"mb-6",children:[p("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Players"}),_("div",{className:"flex gap-2",children:[p("input",{type:"text",value:i,onChange:w=>s(w.target.value),onKeyPress:w=>w.key==="Enter"&&rd(),placeholder:"Player name",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),p("button",{onClick:rd,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-3 rounded-xl hover:from-indigo-700 hover:to-purple-700 flex items-center gap-2 shadow-md",children:p(Za,{className:"w-5 h-5"})})]})]}),n.length>0&&_("div",{className:"mb-6",children:[_("div",{className:"flex justify-between items-center mb-3",children:[_("h3",{className:"font-medium text-gray-700",children:["Players (",n.length,")"]}),p("p",{className:"text-xs text-gray-500",children:" Drag to reorder"})]}),p("div",{className:"flex flex-wrap gap-2",children:n.map((w,E)=>_("div",{draggable:!0,onDragStart:M=>_0(M,w),onDragOver:v0,onDrop:M=>w0(M,w),onDragEnd:C0,className:`bg-gradient-to-r from-indigo-50 to-purple-50 pl-2 pr-3 py-2 rounded-xl flex items-center gap-2 border-2 border-indigo-200 cursor-move hover:shadow-lg hover:scale-105 transition-all ${vs===w?"opacity-40 scale-95 rotate-2":""}`,children:[_("div",{className:"flex items-center gap-2",children:[p("div",{className:"w-7 h-7 rounded-full bg-indigo-500 flex items-center justify-center text-white font-bold text-sm shadow-md",children:E+1}),p("span",{className:"font-medium text-gray-800",children:w}),E===n.length-1&&p("span",{className:"px-1.5 py-0.5 bg-amber-400 text-amber-900 text-xs rounded font-bold",children:""})]}),p("button",{onClick:M=>{M.stopPropagation(),y0(w)},className:"text-red-500 hover:text-red-700 hover:bg-red-100 p-1 rounded-full transition-colors ml-1",title:"Remove player",children:p(fi,{className:"w-4 h-4"})})]},w))}),_("p",{className:"text-xs text-gray-500 mt-3 flex items-center gap-1",children:[p("span",{className:"px-1.5 py-0.5 bg-amber-400 text-amber-900 text-xs rounded font-bold",children:""}),"= Dealer (last in order)"]})]}),p("div",{className:"mb-6",children:_("button",{onClick:()=>Zc(!0),className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl hover:from-purple-600 hover:to-pink-700 flex items-center justify-center gap-2 font-medium shadow-lg",children:[p(wh,{className:"w-5 h-5"}),"View Settlement History"]})}),_("div",{className:"space-y-3",children:[_("button",{onClick:S0,disabled:n.length<2,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg font-medium shadow-lg",children:[p(Ch,{className:"w-6 h-6"}),"Start Game - Draw Cards"]}),_("button",{onClick:x0,disabled:n.length<2,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-4 rounded-xl hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg font-medium shadow-lg border-2 border-blue-300",children:[p(xh,{className:"w-6 h-6"}),"Start Game - Keep Order"]})]}),p("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:_("p",{className:"text-xs text-blue-800",children:[p("strong",{children:" Draw Cards:"})," Players draw cards to determine play order randomly",p("br",{}),p("strong",{children:" Keep Order:"})," Start game with the current player order (drag to arrange)"]})})]})}),Jc&&p(nd,{})]}):t==="drawing"?p("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 p-2 sm:p-4",children:p("div",{className:"max-w-2xl mx-auto",children:_("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6",children:[p("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-6 text-center",children:"Draw Cards to Determine Order"}),O<n.length?_("div",{className:"text-center mb-6",children:[p("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-4",children:p("span",{className:"text-white font-bold text-lg",children:n[O][0]})}),_("p",{className:"text-lg mb-4",children:[p("strong",{className:"text-indigo-700",children:n[O]}),", draw your card!"]}),p("button",{onClick:E0,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-xl hover:from-indigo-700 hover:to-purple-700 text-xl shadow-lg",children:"Draw Card"})]}):_("div",{className:"text-center mb-6",children:[p(Kl,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),p("p",{className:"text-lg text-green-600 font-bold",children:"All cards drawn! Starting game..."})]}),p("div",{className:"space-y-3",children:v.map((w,E)=>_("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl flex justify-between items-center border border-gray-200",children:[p("span",{className:"font-medium text-gray-800",children:w.player}),_("span",{className:`text-3xl ${w.card.suit===""||w.card.suit===""?"text-red-500":"text-gray-800"}`,children:[w.card.value,w.card.suit]})]},E))})]})})}):p("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 p-2 sm:p-4",children:p("div",{className:"max-w-4xl mx-auto",children:_("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6",children:[_("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-2",children:[_("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-800 flex items-center gap-2",children:[p(eo,{className:"w-7 h-7 text-amber-500"}),"Scorix - Round ",h+1]}),_("div",{className:"flex gap-2 flex-wrap",children:[p("button",{onClick:()=>y(!c),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-xl hover:bg-gray-200 flex items-center gap-1",children:c?p(_v,{className:"w-4 h-4"}):p(wv,{className:"w-4 h-4"})}),_("button",{onClick:R0,disabled:!T0(),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-2 rounded-xl hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[p(Za,{className:"w-4 h-4"}),p("span",{className:"hidden sm:inline",children:"Rejoin"})]}),_("button",{onClick:A0,className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-3 py-2 rounded-xl hover:from-blue-600 hover:to-cyan-700 flex items-center gap-1",children:[p(kv,{className:"w-4 h-4"}),p("span",{className:"hidden sm:inline",children:"Share"})]}),gt>0&&_t().length>=2&&_("button",{onClick:ld,className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white px-3 py-2 rounded-xl hover:from-amber-600 hover:to-orange-700 flex items-center gap-1 shadow-md",title:"Split prize based on remaining drops",children:[" ",p("span",{className:"hidden sm:inline",children:"Split"})]}),p("button",{onClick:N0,className:"bg-gradient-to-r from-red-500 to-rose-600 text-white px-3 py-2 rounded-xl hover:from-red-600 hover:to-rose-700",children:"New"})]})]}),_t().length>1?p("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl border border-amber-200",children:_("p",{className:"text-lg",children:[p("strong",{children:"Current Dealer:"})," ",p("span",{className:"text-indigo-700",children:Cl()})]})}):_t().length===1?p("div",{className:"mb-6 p-5 sm:p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl border-2 border-green-300 shadow-lg",children:_("div",{className:"text-center",children:[p("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 mb-4",children:p(eo,{className:"w-10 h-10 text-white"})}),p("p",{className:"text-2xl font-bold text-green-700 mb-2",children:"Congratulations!"}),p("p",{className:"text-3xl font-bold text-gray-800 mb-2",children:_t()[0]}),p("p",{className:"text-lg text-gray-700 mb-1",children:"You are the Winner!"}),_("p",{className:"text-md text-gray-600",children:["Final Score: ",p("strong",{children:yt(_t()[0])})]})]})}):null,p(DS,{players:_t(),onSubmit:k0,disabled:_t().length<=1,playerCards:T,getPlayerTotal:yt,rejoinCounts:bt}),c&&p(vf,{players:Z,scores:a,maxScore:o,getPlayerTotal:yt,onEditScore:I0,editedRows:U,rejoinCounts:bt}),bn&&p("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:_("div",{className:"bg-white rounded-2xl p-5 sm:p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[_("div",{className:"flex justify-between items-center mb-4",children:[p("h2",{className:"text-xl font-bold text-gray-800",children:"Player Rejoin"}),p("button",{onClick:()=>pt(!1),className:"text-gray-500 hover:text-gray-700",children:p(fi,{className:"w-6 h-6"})})]}),Bt?_(Ss,{children:[p("h3",{className:"text-lg font-bold mb-4",children:"Draw Cards for Rejoin Order"}),D<C.length?_("div",{className:"text-center mb-6",children:[p("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mb-4",children:p("span",{className:"text-white font-bold text-lg",children:C[D][0]})}),_("p",{className:"text-lg mb-4",children:[p("strong",{className:"text-indigo-700",children:C[D]}),", draw your card!"]}),p("button",{onClick:b0,className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-indigo-700 hover:to-purple-700 text-lg shadow-md",children:"Draw Card"})]}):_("div",{className:"text-center mb-6",children:[p(Kl,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),p("p",{className:"text-lg text-green-600 font-bold",children:"All cards drawn! Adding players..."})]}),p("div",{className:"space-y-3",children:A.map((w,E)=>_("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-3 rounded-xl flex justify-between items-center border border-gray-200",children:[p("span",{className:"font-medium text-gray-800",children:w.player}),_("span",{className:`text-2xl ${w.card.suit===""||w.card.suit===""?"text-red-500":"text-gray-800"}`,children:[w.card.value,w.card.suit]})]},E))})]}):_(Ss,{children:[p("div",{className:"mb-4 p-3 bg-blue-50 rounded-xl border border-blue-200",children:_("p",{className:"text-sm text-blue-800",children:[p("strong",{children:"Rejoining players will:"}),p("br",{})," Pay entry fee again (",gt,")",p("br",{})," Start with score = Highest current score + 1 (",id()+1,")",p("br",{})," Be placed before the current dealer (",Cl(),")",p("br",{})," Draw cards to determine order among themselves (if multiple)"]})}),_("div",{className:"mb-4",children:[p("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Eliminated Player(s) to Rejoin"}),p("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-200 rounded-xl p-3",children:sd().map(w=>_("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:[p("input",{type:"checkbox",checked:C.includes(w),onChange:()=>P0(w),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),p("span",{className:"flex-1 font-medium text-gray-800",children:w}),_("span",{className:"text-sm text-gray-500",children:["Score: ",yt(w)]})]},w))})]}),C.length>0&&_("div",{className:"mb-4",children:[_("h3",{className:"font-medium text-gray-700 mb-2",children:["Selected Players (",C.length,")"]}),p("div",{className:"flex flex-wrap gap-2",children:C.map(w=>p("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 px-3 py-1.5 rounded-lg",children:p("span",{className:"text-emerald-800 font-medium",children:w})},w))})]}),_("div",{className:"flex gap-2",children:[C.length===1?p("button",{onClick:()=>od(C),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-2.5 rounded-xl hover:from-green-600 hover:to-emerald-700 font-medium",children:"Add Player"}):C.length>1?_("button",{onClick:D0,className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-2.5 rounded-xl hover:from-indigo-600 hover:to-purple-700 flex items-center justify-center gap-2 font-medium",children:[p(Ch,{className:"w-4 h-4"}),"Draw Cards"]}):p("button",{disabled:!0,className:"flex-1 bg-gray-200 text-gray-500 py-2.5 rounded-xl cursor-not-allowed font-medium",children:"Select Players First"}),p("button",{onClick:()=>pt(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2.5 rounded-xl hover:bg-gray-300 font-medium",children:"Cancel"})]})]})]})}),p(ad,{}),Jc&&p(nd,{})]})})})};function AS(){return p("div",{className:"App",children:p(bS,{})})}oa.createRoot(document.getElementById("root")).render(p(X0.StrictMode,{children:p(AS,{})}));
